function ace_detect_device_type(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(ace.mobile=!0,ace.html.addClass("crt-mobile")):(ace.mobile=!1,ace.html.addClass("crt-desktop"))}function ace_append_overlay(){ace.body.append(ace.overlay.obj),ace.overlay.obj[0].style.opacity=0,window.getComputedStyle(ace.overlay.obj[0]).opacity,ace.overlay.obj[0].style.opacity=1}function ace_remove_overlay(){ace.overlay.obj[0].style.opacity=0,ace.overlay.obj.remove()}function ace_lock_scroll(){var e=ace.html.outerWidth(),t=ace.body.outerHeight(),o=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];ace.html.data("scroll-position",o),ace.html.data("previous-overflow",ace.html.css("overflow")),ace.html.css("overflow","hidden"),window.scrollTo(o[0],o[1]);var r=ace.body.outerWidth()-e,i=ace.body.outerHeight()-t;ace.body.css({"margin-right":r,"margin-bottom":i}),ace.html.addClass("crt-lock-scroll")}function ace_unlock_scroll(){ace.html.css("overflow",ace.html.data("previous-overflow"));var e=ace.html.data("scroll-position");window.scrollTo(e[0],e[1]),ace.body.css({"margin-right":0,"margin-bottom":0}),ace.html.removeClass("crt-lock-scroll")}function ace_open_sidebar(){ace.html.addClass("crt-sidebar-opened"),ace_append_overlay(),ace_lock_scroll()}function ace_close_sidebar(){ace.html.removeClass("crt-sidebar-opened"),ace_remove_overlay(),ace_unlock_scroll()}function ace_progress_chart(e,t,o,r){void 0===t&&(t=""),new ProgressBar.Circle(e,{color:certy.vars.themeColor,strokeWidth:5,trailWidth:0,text:{value:t,className:"progress-text",style:{top:"50%",left:"50%",color:certy.progress.textColor,position:"absolute",margin:0,padding:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0},svgStyle:{display:"block",width:"100%"},duration:r,easing:"easeOut"}).animate(o)}function ace_progress_line(e,t,o,r){void 0===t&&(t=""),new ProgressBar.Line(e,{strokeWidth:4,easing:"easeInOut",duration:r,color:certy.vars.themeColor,trailColor:certy.progress.trailColor,trailWidth:4,svgStyle:{width:"100%",height:"100%"},text:{value:t,className:"progress-text",style:{top:"-25px",right:"0",color:certy.progress.textColor,position:"absolute",margin:0,padding:0,transform:{prefix:!0,value:"translate(0, 0)"}},autoStyleContainer:!0}}).animate(o)}function ace_is_elem_in_viewport(e,t){var o=e[0].getBoundingClientRect();return o.bottom>=0&&o.right>=0&&o.top+t<=(window.innerHeight||document.documentElement.clientHeight)&&o.left<=(window.innerWidth||document.documentElement.clientWidth)}function ace_is_elems_in_viewport(e,t){for(var o=0;o<e.length;o++){var r=jQuery(e[o]);if(r.hasClass("crt-animate")&&ace_is_elem_in_viewport(r,t)){if(r.removeClass("crt-animate").addClass("crt-animated"),r.hasClass("progress-chart")){var i=r.find(".progress-bar");ace_progress_chart(i[0],i.data("text"),i.data("value"),1e3)}if(r.hasClass("progress-line")){var a=r.find(".progress-bar");ace_progress_line(a[0],a.data("text"),a.data("value"),1e3)}}}}function ace_appear_elems(e,t){ace_is_elems_in_viewport(e,t),jQuery(window).scroll(function(){ace_is_elems_in_viewport(e,t)}),jQuery(window).resize(function(){ace_is_elems_in_viewport(e,t)})}function initialiseGoogleMap(e){var t,o=44.5403,r=-78.5463,i=jQuery("#map"),a=i.get(0),s=jQuery.parseJSON(e);i.data("latitude")&&(o=i.data("latitude")),i.data("longitude")&&(r=i.data("longitude")),t=new google.maps.LatLng(o,r);var n={zoom:14,center:t,scrollwheel:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:s};i=new google.maps.Map(a,n);new google.maps.Marker({map:i,position:t,icon:{path:"M125 410 c-56 -72 -111 -176 -120 -224 -7 -36 11 -83 49 -124 76 -85 223 -67 270 31 28 60 29 88 6 150 -19 51 -122 205 -148 221 -6 3 -32 -21 -57 -54z m110 -175 c35 -34 33 -78 -4 -116 -35 -35 -71 -37 -105 -7 -40 35 -43 78 -11 116 34 41 84 44 120 7z",fillColor:certy_vars_from_WP.themeColor,fillOpacity:1,scale:.1,strokeColor:certy_vars_from_WP.themeColor,strokeWeight:1,anchor:new google.maps.Point(185,500)},title:"Hello World!"});google.maps.event.addDomListener(window,"resize",function(){i.setCenter(t)})}var navStiky=!1;1==certy_vars_from_WP.enable_sticky&&(navStiky=!0);var certy={vars:{rtl:!1,themeColor:certy_vars_from_WP.themeColor,screenMd:"992px"},nav:{height:"auto",arrow:!1,sticky:{top:"-1px",active:navStiky},tooltip:{active:!0}},sideBox:{sticky:{top:"20px",active:!1}},progress:{animation:!0,textColor:"inherit",trailColor:"rgba(0,0,0,0.07)"}};!function(e,t,o,r){var i=function(r,i){this.elem=r,this.$elem=e(r),this.options=i,this.metadata=this.$elem.data("plugin-options"),this.$win=e(t),this.sections={},this.didScroll=!1,this.$doc=e(o),this.docHeight=this.$doc.height()};i.prototype={defaults:{navItems:"a",currentClass:"current",changeHash:!1,easing:"swing",filter:"",scrollSpeed:750,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!1},init:function(){return this.config=e.extend({},this.defaults,this.options,this.metadata),this.$nav=this.$elem.find(this.config.navItems),""!==this.config.filter&&(this.$nav=this.$nav.filter(this.config.filter)),this.$nav.on("click.onePageNav",e.proxy(this.handleClick,this)),this.getPositions(),this.bindInterval(),this.$win.on("resize.onePageNav",e.proxy(this.getPositions,this)),this},adjustNav:function(e,t){e.$elem.find("."+e.config.currentClass).removeClass(e.config.currentClass),t.addClass(e.config.currentClass)},bindInterval:function(){var e,t=this;t.$win.on("scroll.onePageNav",function(){t.didScroll=!0}),t.t=setInterval(function(){e=t.$doc.height(),t.didScroll&&(t.didScroll=!1,t.scrollChange()),e!==t.docHeight&&(t.docHeight=e,t.getPositions())},250)},getHash:function(e){return e.attr("href").split("#")[1]},getPositions:function(){var t,o,r,i=this;i.$nav.each(function(){t=i.getHash(e(this)),r=e("#"+t),r.length&&(o=r.offset().top,i.sections[t]=Math.round(o))})},getSection:function(e){var t=null,o=Math.round(this.$win.height()*this.config.scrollThreshold);for(var r in this.sections)this.sections[r]-o<e&&(t=r);return t},handleClick:function(o){var r=this,i=e(o.currentTarget),a=i.parent(),s="#"+r.getHash(i);a.hasClass(r.config.currentClass)||(r.config.begin&&r.config.begin(),r.adjustNav(r,a),r.unbindInterval(),r.scrollTo(s,function(){r.config.changeHash&&(history.pushState?history.pushState(null,null,s):t.location.hash=s),r.bindInterval(),r.config.end&&r.config.end()})),o.preventDefault()},scrollChange:function(){var e,t=this.$win.scrollTop(),o=this.getSection(t);null!==o&&(e=this.$elem.find('a[href$="#'+o+'"]').parent(),e.hasClass(this.config.currentClass)||(this.adjustNav(this,e),this.config.scrollChange&&this.config.scrollChange(e)))},scrollTo:function(t,o){var r=e(t).offset().top;r-=e(t).closest(".crt-paper-layers").hasClass("crt-animate")?145:45,e("html, body").animate({scrollTop:r},this.config.scrollSpeed,this.config.easing,o)},unbindInterval:function(){clearInterval(this.t),this.$win.unbind("scroll.onePageNav")}},i.defaults=i.prototype.defaults,e.fn.onePageNav=function(e){return this.each(function(){new i(this,e).init()})}}(jQuery,window,document),certy.initGlobalVars=function(){this.vars.html=jQuery("html"),this.vars.body=jQuery("body"),this.vars.footer=jQuery("#crtFooter"),this.vars.windowW=jQuery(window).width(),this.vars.windowH=jQuery(window).height(),this.vars.windowScrollTop=jQuery(window).scrollTop(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(this.vars.mobile=!0,this.vars.html.addClass("mobile")):(this.vars.mobile=!1,this.vars.html.addClass("desktop"))},certy.lockScroll=function(){var e=certy.vars.html.outerWidth(),t=certy.vars.body.outerHeight(),o=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];certy.vars.html.data("scroll-position",o),certy.vars.html.data("previous-overflow",certy.vars.html.css("overflow")),certy.vars.html.css("overflow","hidden"),window.scrollTo(o[0],o[1]);var r=certy.vars.body.outerWidth()-e,i=certy.vars.body.outerHeight()-t;certy.vars.body.css({"margin-right":r,"margin-bottom":i}),certy.vars.html.addClass("lock-scroll")},certy.unlockScroll=function(){certy.vars.html.css("overflow",certy.vars.html.data("previous-overflow"));var e=certy.vars.html.data("scroll-position");window.scrollTo(e[0],e[1]),certy.vars.body.css({"margin-right":0,"margin-bottom":0}),certy.vars.html.removeClass("lock-scroll")},certy.nav.initScroll=function(e){e.height(e.height()).animate({height:certy.nav.height},700,function(){e.mCustomScrollbar({axis:"y",scrollbarPosition:"outside"})}),certy.nav.arrow&&(jQuery("#crtNavTools").removeClass("hidden"),jQuery("#crtNavArrow").on("click",function(){e.mCustomScrollbar("scrollTo","-="+certy.nav.height)}))},certy.nav.exists=!1,certy.nav.makeSticky=function(){this.sticky.active&&!certy.vars.mobile&&Modernizr.mq("(min-width: "+certy.vars.screenMd+")")&&(this.exists?certy.vars.windowScrollTop>this.wrap.offset().top?this.el.css({top:this.sticky.top,left:this.wrap.offset().left,width:this.wrap.width(),bottom:"auto",position:"fixed"}):this.el.css({top:"0",left:"auto",width:"auto",bottom:"auto",position:"relative"}):(this.el=jQuery("#crtNavInner"),this.wrap=jQuery("#crtNavWrap"),this.el.length>0&&this.wrap.length>0&&(this.exists=!0)))},certy.nav.tooltip.el="",certy.nav.tooltip.timer=0,certy.nav.tooltip.show=function(e){certy.nav.tooltip.timer=setTimeout(function(){certy.nav.tooltip.el=jQuery('<div class="crt-tooltip"></div>');var t=e.offset().top,o=e.offset().left,r=o+e.outerWidth();e.outerWidth();certy.vars.body.append(certy.nav.tooltip.el),certy.nav.tooltip.el.text(e.data("tooltip")),r+certy.nav.tooltip.el.outerWidth()<certy.vars.windowW?certy.nav.tooltip.el.addClass("arrow-left").css({left:r+"px",top:t+4+"px"}):certy.nav.tooltip.el.addClass("arrow-right text-right").css({left:o-certy.nav.tooltip.el.outerWidth()-10+"px",top:t+4+"px"}),certy.nav.tooltip.el.fadeIn(150)},150)},certy.nav.tooltip.hide=function(){clearTimeout(certy.nav.tooltip.timer),certy.nav.tooltip.el.length>0&&certy.nav.tooltip.el.fadeOut(150,function(){certy.nav.tooltip.el.remove()})},certy.sideBox.exists=!1,certy.sideBox.makeSticky=function(){this.sticky.active&&!certy.vars.mobile&&Modernizr.mq("(min-width: "+certy.vars.screenMd+")")&&(this.exists?certy.vars.windowScrollTop>this.wrap.offset().top?this.el.css({top:this.sticky.top,left:this.wrap.offset().left,width:this.wrap.width(),bottom:"auto",position:"fixed"}):this.el.css({top:"0",left:"auto",width:"auto",bottom:"auto",position:"relative"}):(this.el=jQuery("#crtSideBox"),this.wrap=jQuery("#crtSideBoxWrap"),this.el.length>0&&this.wrap.length>0&&(this.exists=!0)))},certy.slider=function(e){for(var t=0;t<e.length;t++)"none"!=jQuery(e[t]).data("init")&&jQuery(e[t]).slick()},certy.carousel=function(e){for(var t=0;t<e.length;t++)"none"!==jQuery(e[t]).data("init")&&jQuery(e[t]).slick({dots:!0})},certy.portfolio={popupSlider:"",popupCarousel:"",currentEmbed:!1,currentEmbedType:!1,initGrid:function(e){var t=e.isotope({isOriginLeft:!certy.vars.rtl,itemSelector:".pf-grid-item",percentPosition:!0,masonry:{columnWidth:".pf-grid-sizer"}});t.imagesLoaded().progress(function(){t.isotope("layout")});var o=e.closest(".pf-wrap").find(".pf-filter");if(o.length>0){var r=o.find("button");jQuery(".pf-filter button:first-child").addClass("active"),r.on("click",function(){r.removeClass("active"),jQuery(this).addClass("active");var e=jQuery(this).attr("data-filter");t.isotope({filter:e})})}},openPopup:function(e){certy.vars.html.addClass("crt-pf-popup-opened"),this.popup_wrapper=jQuery('<div id="pf-popup-wrap"><button id="pf-popup-close"><i class="crt-icon crt-icon-close"></i></button><div class="pf-popup-inner"><div class="pf-popup-middle"><div class="pf-popup-container"><button id="pf-popup-close"><i class="rsicon rsicon-close"></i></button><div id="pf-popup-content" class="pf-popup-content"></div></div></div></div></div>'),certy.vars.body.append(this.popup_wrapper),this.popup_content=jQuery("#pf-popup-content"),this.popup_content.append(e.clone()),this.popupSlider=jQuery("#pf-popup-content .pf-popup-media"),this.popupSlider.on("init",function(e,t){certy.portfolio.loadEmbed(0),jQuery(window).trigger("resize")}),this.popupSlider.on("beforeChange",function(e,t,o,r){if(certy.portfolio.currentEmbed&&certy.portfolio.currentEmbedType)switch(certy.portfolio.currentEmbedType){case"iframe":var i=certy.portfolio.currentEmbed.find("iframe");i.attr("src",i.attr("src"));break;case"video":certy.portfolio.currentEmbed.find("video")[0].pause()}certy.portfolio.loadEmbed(r)}),this.popupSlider.slick({speed:500,dots:!1,arrow:!0,infinite:!1,slidesToShow:1,adaptiveHeight:!0}),this.popupCarousel=jQuery("#pf-popup-content .pf-rel-carousel"),this.popupCarousel.slick({dots:!1,infinite:!0,slidesToShow:3,slidesToScroll:3,lazyLoad:"ondemand"}),this.popup_wrapper.addClass("pf-opened"),certy.lockScroll()},closePopup:function(e){certy.vars.html.removeClass("cr-portfolio-opened"),this.popup_wrapper.removeClass("pf-opened"),setTimeout(function(){certy.portfolio.popup_wrapper.remove(),certy.unlockScroll()},500)},loadEmbed:function(e){var t=jQuery('#pf-popup-content .pf-popup-slide[data-slick-index="'+e+'"]').find(".pf-popup-embed"),o=jQuery.trim(t.data("type")),r=jQuery.trim(t.data("url"));if(certy.portfolio.currentEmbed=t,certy.portfolio.currentEmbedType=o,!t.hasClass("pf-embed-loaded")&&void 0!==o&&o!==!1&&""!==o&&void 0!==r&&r!==!1&&""!==r){var i=jQuery.trim(t.data("width")),a=jQuery.trim(t.data("height"));switch(void 0!==i&&i!==!1&&""!==i&&void 0!==a&&a!==!1&&""!==a&&t.css({"padding-top":a/i*100+"%"}),o){case"image":t.addClass("pf-embed-image");var s=jQuery("<img/>",{src:r,style:"display:none"}).load(function(){jQuery(this).fadeIn(500),t.addClass("pf-embed-loaded")}).error(function(){t.addClass("pf-embed-error")});t.empty().append(s);break;case"iframe":t.addClass("pf-embed-iframe");var n=jQuery("<iframe/>",{src:r,style:"display:none",allowfullscreen:""}).load(function(){jQuery(this).fadeIn(500),t.addClass("pf-embed-loaded")}).error(function(){t.addClass("pf-embed-error")});t.empty().append(n);break;case"video":t.addClass("pf-embed-video");var c=this.parseOptions(r),l="<video ";c.poster&&(l+='poster="'+c.poster+'" '),l+='controls="controls" preload="yes">',c.mp4&&(l+='<source type="video/mp4" src="'+c.mp4+'"/>'),c.webm&&(l+='<source type="video/webm" src="'+c.webm+'"/>'),c.ogv&&(l+='<source type="video/ogg" src="'+c.ogv+'"/>'),l+="Your browser does not support the video tag.</video>",t.empty().append(jQuery(l))}}},parseOptions:function(e){var t,o,r,i,a,s,n,c={};for(a=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(","),n=0,s=a.length;n<s&&(o=a[n],o.search(/^(http|https|ftp):\/\//)===-1&&o.search(":")!==-1);n++)t=o.indexOf(":"),r=o.substring(0,t),i=o.substring(t+1),i||(i=void 0),"string"==typeof i&&(i="true"===i||"false"!==i&&i),"string"==typeof i&&(i=isNaN(i)?i:+i),c[r]=i;return null==r&&null==i?e:c}},function(e){"use strict";e(function(){certy.initGlobalVars(),certy.vars.body.hasClass("crt-nav-on")&&(Modernizr.mq("(min-width: "+certy.vars.screenMd+")")&&"auto"!==certy.nav.height&&certy.nav.initScroll(e("#crtNavScroll")),certy.nav.makeSticky(),certy.nav.tooltip.active&&e("#crtNav a").hover(function(){certy.nav.tooltip.show(e(this))},function(){certy.nav.tooltip.hide()}),e("#crtNav").onePageNav({changeHash:!0,scrollThreshold:.5,filter:":not(.external)"})),certy.sideBox.makeSticky();var t=e(".pf-grid");if(t.length>0){for(var o=0;o<t.length;o++)certy.portfolio.initGrid(e(t[o]));e(document).on("click",".pf-project",function(){var t=e(this).attr("href");return certy.portfolio.openPopup(e(t)),!1}),e(document).on("click",".pf-rel-href",function(){var t=e(this).attr("href");if(t.indexOf("#")!=-1)return certy.portfolio.closePopup(),setTimeout(function(){certy.portfolio.openPopup(e(t))},500),!1}),e(document).on("click","#pf-popup-close",function(){certy.portfolio.closePopup()}),e(document).on("touchstart click",".crt-pf-popup-opened #pf-popup-wrap",function(t){var o=e("#pf-popup-content");o.is(t.target)||0!==o.has(t.target).length||certy.portfolio.closePopup()})}certy.slider(e(".cr-slider")),certy.carousel(e(".cr-carousel"));var r=e("#crtBtnUp");r.length>0&&(e(window).scrollTop()>100?r.show(0):r.hide(0),e(window).scroll(function(){e(this).scrollTop()>100?r.show(0):r.hide(0)}),r.on("click",function(){return e("html, body").animate({scrollTop:0},800),!1}))}),e(window).on("resize",function(){certy.vars.windowW=e(window).width(),certy.vars.windowH=e(window).height(),certy.vars.windowScrollTop=e(window).scrollTop(),certy.nav.makeSticky(),certy.sideBox.makeSticky()}),e(window).on("scroll",function(){certy.vars.windowScrollTop=e(window).scrollTop(),certy.nav.makeSticky(),certy.sideBox.makeSticky(),certy.nav.tooltip.el.length>0&&certy.nav.tooltip.el.remove()}),e(window).on("load",function(){})}(jQuery);var ace={html:"",body:"",mobile:"",sidebar:{obj:"",btn:""},nav:{obj:"",tooltip:jQuery('<div class="crt-tooltip"></div>')},overlay:{obj:jQuery('<div id="crtOverlay"></div>')},progress:{lines:"",charts:"",bullets:""}};!function(e){"use strict";e(function(){if(ace.html=e("html"),ace.body=e("body"),ace_detect_device_type(),e("#crtMainNavSm .menu-item-has-children > a").on("click touchstart",function(){return!!e(this).hasClass("hover")||(e(this).addClass("hover"),e(this).next().slideDown(500),!1)}),ace.sidebar.obj=e("#crtSidebar"),ace.sidebar.btn=e("#crtSidebarBtn"),ace.sidebar.btn.on("touchstart click",function(){ace_open_sidebar()}),e(document).on("touchstart click",".crt-sidebar-opened #crtOverlay",function(e){var t=ace.sidebar.obj;t.is(e.target)||0!==t.has(e.target).length||ace_close_sidebar()}),e("#crtSidebarClose").on("click",function(){ace_close_sidebar()}),e("#crtSidebarInner").mCustomScrollbar({axis:"y",theme:"minimal-dark",autoHideScrollbar:!0,scrollButtons:{enable:!0}}),!certy.progress.animation||ace.mobile){ace.progress.charts=e(".progress-chart .progress-bar");for(var t=0;t<ace.progress.charts.length;t++){var o=e(ace.progress.charts[t]);ace_progress_chart(o[0],o.data("text"),o.data("value"),1)}ace.progress.lines=e(".progress-line .progress-bar");for(var t=0;t<ace.progress.lines.length;t++){var r=e(ace.progress.lines[t]);ace_progress_line(r[0],r.data("text"),r.data("value"),1)}}certy.progress.animation&&!ace.mobile&&ace_appear_elems(e(".crt-animate"),0),e("pre").each(function(e,t){hljs.highlightBlock(t)}),e(".alert .close").on("click",function(){var t=e(this).parent();t.fadeOut(500,function(){t.remove()})}),e(".slider").slick({dots:!0}),e("#map").length>0&&initialiseGoogleMap(certy_vars_from_WP.mapStyles);var i=e(".tabs-menu>li.active");if(i.length>0)for(var t=0;t<i.length;t++){var a=e(i[t]).children().attr("href");e(a).addClass("active").show()}e(".tabs-menu a").on("click",function(t){var o=e(this),r=o.attr("href"),i=o.closest(".tabs"),a=i.find(".tab-content");o.parent().addClass("active"),o.parent().siblings().removeClass("active"),a.not(r).removeClass("active").hide(),e(r).addClass("active").fadeIn(500),t.preventDefault()});var s=e(".togglebox>li.active");s.length>0&&s.find(".togglebox-content").show(),e(".togglebox-header").on("click",function(){var t=e(this);t.next(".togglebox-content").slideToggle(300),t.parent().toggleClass("active")});var n=e(".accordion>li.active");n.length>0&&n.find(".accordion-content").show(),e(".accordion-header").on("click",function(){var t=e(this),o=t.parent(),r=t.next(),i=t.closest(".accordion").find(".accordion-content");o.hasClass("active")?(o.removeClass("active"),r.slideUp()):(o.siblings().removeClass("active"),o.addClass("active"),i.slideUp(300),r.slideDown(300))}),e(".comment-replys-link").on("click",function(){return e(this).closest(".comment").toggleClass("show-replies"),!1});var c={};c.wrapper=null,c.content=null,c.slider=null,c.open=function(t){this.wrapper=e('<div id="pf-popup-wrap" class="pf-popup-wrap"><div class="pf-popup-inner"><div class="pf-popup-middle"><div class="pf-popup-container"><button id="pf-popup-close"><i class="rsicon rsicon-close"></i></button><div id="pf-popup-content" class="pf-popup-content"></div></div></div></div>'),ace.body.append(this.wrapper),this.content=e("#pf-popup-content"),this.content.append(t.clone()),c.wrapper.addClass("opened"),ace_lock_scroll()},c.close=function(){this.wrapper.removeClass("opened"),setTimeout(function(){c.wrapper.remove(),ace_unlock_scroll()},500)},e(document).on("click",".pf-btn-view",function(){var t=e(this).attr("href");return c.open(e(t)),ace.html.addClass("crt-portfolio-opened"),!1}),e(document).on("touchstart click",".crt-portfolio-opened #pf-popup-wrap",function(t){var o=e("#pf-popup-content");o.is(t.target)||0!==o.has(t.target).length||(c.close(),ace.html.removeClass("crt-portfolio-opened"))}),e(".toggle-link").on("click",function(){var t=e(this).attr("href");return e(this).hasClass("opened")?(e(t).slideUp(500),e(this).removeClass("opened")):(e(t).slideDown(500),e(this).addClass("opened")),!1}),e(".share-btn").on("mouseenter",function(){e(this).parent().addClass("hovered")}),e(".share-box").on("mouseleave",function(){var t=e(this);t.hasClass("hovered")&&(t.addClass("closing"),setTimeout(function(){t.removeClass("hovered"),t.removeClass("closing")},300))})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9mdW5jdGlvbnMuanMiLCJvcHRpb25zLmpzIiwib25lLXBhZ2UtbmF2LmpzIiwiX25hdi5qcyIsIl9zaWRlLWJveC5qcyIsIl9zbGlkZXIuanMiLCJfcG9ydGZvbGlvLmpzIiwibWFpbi5qcyIsInRoZW1lLmpzIl0sIm5hbWVzIjpbImFjZV9kZXRlY3RfZGV2aWNlX3R5cGUiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiYWNlIiwibW9iaWxlIiwiaHRtbCIsImFkZENsYXNzIiwiYWNlX2FwcGVuZF9vdmVybGF5IiwiYm9keSIsImFwcGVuZCIsIm92ZXJsYXkiLCJvYmoiLCJzdHlsZSIsIm9wYWNpdHkiLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwiYWNlX3JlbW92ZV9vdmVybGF5IiwicmVtb3ZlIiwiYWNlX2xvY2tfc2Nyb2xsIiwiaW5pdFdpZHRoIiwib3V0ZXJXaWR0aCIsImluaXRIZWlnaHQiLCJvdXRlckhlaWdodCIsInNjcm9sbFBvc2l0aW9uIiwic2VsZiIsInBhZ2VYT2Zmc2V0IiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxMZWZ0IiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJkYXRhIiwiY3NzIiwic2Nyb2xsVG8iLCJtYXJnaW5SIiwibWFyZ2luQiIsIm1hcmdpbi1yaWdodCIsIm1hcmdpbi1ib3R0b20iLCJhY2VfdW5sb2NrX3Njcm9sbCIsInJlbW92ZUNsYXNzIiwiYWNlX29wZW5fc2lkZWJhciIsImFjZV9jbG9zZV9zaWRlYmFyIiwiYWNlX3Byb2dyZXNzX2NoYXJ0IiwiZWxlbWVudCIsInRleHQiLCJ2YWx1ZSIsImR1cmF0aW9uIiwiUHJvZ3Jlc3NCYXIiLCJDaXJjbGUiLCJjb2xvciIsImNlcnR5IiwidmFycyIsInRoZW1lQ29sb3IiLCJzdHJva2VXaWR0aCIsInRyYWlsV2lkdGgiLCJjbGFzc05hbWUiLCJ0b3AiLCJsZWZ0IiwicHJvZ3Jlc3MiLCJ0ZXh0Q29sb3IiLCJwb3NpdGlvbiIsIm1hcmdpbiIsInBhZGRpbmciLCJ0cmFuc2Zvcm0iLCJwcmVmaXgiLCJhdXRvU3R5bGVDb250YWluZXIiLCJhbGlnblRvQm90dG9tIiwic3ZnU3R5bGUiLCJkaXNwbGF5Iiwid2lkdGgiLCJlYXNpbmciLCJhbmltYXRlIiwiYWNlX3Byb2dyZXNzX2xpbmUiLCJMaW5lIiwidHJhaWxDb2xvciIsImhlaWdodCIsInJpZ2h0IiwiYWNlX2lzX2VsZW1faW5fdmlld3BvcnQiLCJlbCIsInZwYXJ0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJvdHRvbSIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaW5uZXJXaWR0aCIsImNsaWVudFdpZHRoIiwiYWNlX2lzX2VsZW1zX2luX3ZpZXdwb3J0IiwiZWxlbXMiLCJpIiwibGVuZ3RoIiwiaXRlbSIsImpRdWVyeSIsImhhc0NsYXNzIiwiY2hhcnQiLCJmaW5kIiwibGluZSIsImFjZV9hcHBlYXJfZWxlbXMiLCJzY3JvbGwiLCJyZXNpemUiLCJpbml0aWFsaXNlR29vZ2xlTWFwIiwibWFwU3R5bGVzIiwibGF0bG5nIiwibGF0IiwibG5nIiwibWFwIiwibWFwQ2FudmFzIiwiZ2V0IiwibWFwX3N0eWxlcyIsInBhcnNlSlNPTiIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJtYXBPcHRpb25zIiwiem9vbSIsImNlbnRlciIsInNjcm9sbHdoZWVsIiwibWFwVHlwZUlkIiwiTWFwVHlwZUlkIiwiUk9BRE1BUCIsInN0eWxlcyIsIk1hcCIsIk1hcmtlciIsImljb24iLCJwYXRoIiwiZmlsbENvbG9yIiwiY2VydHlfdmFyc19mcm9tX1dQIiwiZmlsbE9wYWNpdHkiLCJzY2FsZSIsInN0cm9rZUNvbG9yIiwic3Ryb2tlV2VpZ2h0IiwiYW5jaG9yIiwiUG9pbnQiLCJ0aXRsZSIsImV2ZW50IiwiYWRkRG9tTGlzdGVuZXIiLCJzZXRDZW50ZXIiLCJuYXZTdGlreSIsImVuYWJsZV9zdGlja3kiLCJydGwiLCJzY3JlZW5NZCIsIm5hdiIsImFycm93Iiwic3RpY2t5IiwiYWN0aXZlIiwidG9vbHRpcCIsInNpZGVCb3giLCJhbmltYXRpb24iLCIkIiwidW5kZWZpbmVkIiwiT25lUGFnZU5hdiIsImVsZW0iLCJvcHRpb25zIiwidGhpcyIsIiRlbGVtIiwibWV0YWRhdGEiLCIkd2luIiwic2VjdGlvbnMiLCJkaWRTY3JvbGwiLCIkZG9jIiwiZG9jSGVpZ2h0IiwicHJvdG90eXBlIiwiZGVmYXVsdHMiLCJuYXZJdGVtcyIsImN1cnJlbnRDbGFzcyIsImNoYW5nZUhhc2giLCJmaWx0ZXIiLCJzY3JvbGxTcGVlZCIsInNjcm9sbFRocmVzaG9sZCIsImJlZ2luIiwiZW5kIiwic2Nyb2xsQ2hhbmdlIiwiaW5pdCIsImNvbmZpZyIsImV4dGVuZCIsIiRuYXYiLCJvbiIsInByb3h5IiwiaGFuZGxlQ2xpY2siLCJnZXRQb3NpdGlvbnMiLCJiaW5kSW50ZXJ2YWwiLCJhZGp1c3ROYXYiLCIkcGFyZW50IiwidCIsInNldEludGVydmFsIiwiZ2V0SGFzaCIsIiRsaW5rIiwiYXR0ciIsInNwbGl0IiwibGlua0hyZWYiLCJ0b3BQb3MiLCIkdGFyZ2V0IiwiZWFjaCIsIm9mZnNldCIsIk1hdGgiLCJyb3VuZCIsImdldFNlY3Rpb24iLCJ3aW5kb3dQb3MiLCJyZXR1cm5WYWx1ZSIsIndpbmRvd0hlaWdodCIsInNlY3Rpb24iLCJlIiwiY3VycmVudFRhcmdldCIsInBhcmVudCIsIm5ld0xvYyIsInVuYmluZEludGVydmFsIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImxvY2F0aW9uIiwiaGFzaCIsInByZXZlbnREZWZhdWx0Iiwid2luZG93VG9wIiwidGFyZ2V0IiwiY2FsbGJhY2siLCJjbG9zZXN0IiwiY2xlYXJJbnRlcnZhbCIsInVuYmluZCIsImZuIiwib25lUGFnZU5hdiIsImluaXRHbG9iYWxWYXJzIiwiZm9vdGVyIiwid2luZG93VyIsIndpbmRvd0giLCJ3aW5kb3dTY3JvbGxUb3AiLCJsb2NrU2Nyb2xsIiwidW5sb2NrU2Nyb2xsIiwiaW5pdFNjcm9sbCIsIm1DdXN0b21TY3JvbGxiYXIiLCJheGlzIiwic2Nyb2xsYmFyUG9zaXRpb24iLCJleGlzdHMiLCJtYWtlU3RpY2t5IiwiTW9kZXJuaXpyIiwibXEiLCJ3cmFwIiwidGltZXIiLCJzaG93IiwiY3VycmVudCIsInNldFRpbWVvdXQiLCJmYWRlSW4iLCJoaWRlIiwiY2xlYXJUaW1lb3V0IiwiZmFkZU91dCIsInNsaWRlciIsInNsaWNrIiwiY2Fyb3VzZWwiLCJkb3RzIiwicG9ydGZvbGlvIiwicG9wdXBTbGlkZXIiLCJwb3B1cENhcm91c2VsIiwiY3VycmVudEVtYmVkIiwiY3VycmVudEVtYmVkVHlwZSIsImluaXRHcmlkIiwiZ3JpZCIsImlzb3RvcGUiLCJpc09yaWdpbkxlZnQiLCJpdGVtU2VsZWN0b3IiLCJwZXJjZW50UG9zaXRpb24iLCJtYXNvbnJ5IiwiY29sdW1uV2lkdGgiLCJpbWFnZXNMb2FkZWQiLCJmaWx0ZXJfYnRuIiwiZmlsdGVyVmFsdWUiLCJvcGVuUG9wdXAiLCJwb3B1cF93cmFwcGVyIiwicG9wdXBfY29udGVudCIsImNsb25lIiwibG9hZEVtYmVkIiwidHJpZ2dlciIsImN1cnJlbnRTbGlkZSIsIm5leHRTbGlkZSIsImlmcmFtZSIsInBhdXNlIiwic3BlZWQiLCJpbmZpbml0ZSIsInNsaWRlc1RvU2hvdyIsImFkYXB0aXZlSGVpZ2h0Iiwic2xpZGVzVG9TY3JvbGwiLCJsYXp5TG9hZCIsImNsb3NlUG9wdXAiLCJzbGlkZUluZGV4IiwidHJpbSIsImN1cmVudEVtYmVkVXJsIiwiZW1iZWRXIiwiZW1iZWRIIiwicGFkZGluZy10b3AiLCJpbWciLCJzcmMiLCJsb2FkIiwiZXJyb3IiLCJlbXB0eSIsImFsbG93ZnVsbHNjcmVlbiIsInZpZGVvT3B0aW9ucyIsInBhcnNlT3B0aW9ucyIsInZpZGVvIiwicG9zdGVyIiwibXA0Iiwid2VibSIsIm9ndiIsInN0ciIsImRlbGltaXRlckluZGV4Iiwib3B0aW9uIiwicHJvcCIsInZhbCIsImFyciIsImxlbiIsInJlcGxhY2UiLCJzZWFyY2giLCJpbmRleE9mIiwic3Vic3RyaW5nIiwiaXNOYU4iLCJob3ZlciIsInBmX2dyaWQiLCJpZCIsImhyZWYiLCJjb250YWluZXIiLCJpcyIsImhhcyIsIiRidG5TY3JvbGxUb3AiLCJzaWRlYmFyIiwiYnRuIiwibGluZXMiLCJjaGFydHMiLCJidWxsZXRzIiwibmV4dCIsInNsaWRlRG93biIsInRoZW1lIiwiYXV0b0hpZGVTY3JvbGxiYXIiLCJzY3JvbGxCdXR0b25zIiwiZW5hYmxlIiwiYmxvY2siLCJobGpzIiwiaGlnaGxpZ2h0QmxvY2siLCJhbGVydCIsInRhYkFjdGl2ZSIsInRhYl9pZCIsImNoaWxkcmVuIiwidGFiIiwidGFiX3dyYXAiLCJ0YWJfY29udGVudCIsInNpYmxpbmdzIiwibm90IiwidG9nZ2xlYm94QWN0aXZlIiwidG9nZ2xlX2hlYWQiLCJzbGlkZVRvZ2dsZSIsInRvZ2dsZUNsYXNzIiwiYWNjb3JkZW9uQWN0aXZlIiwiYWNjX2hlYWQiLCJhY2Nfc2VjdGlvbiIsImFjY19jb250ZW50IiwiYWNjX2FsbF9jb250ZW50cyIsInNsaWRlVXAiLCJwZl9wb3B1cCIsIndyYXBwZXIiLCJjb250ZW50Iiwib3BlbiIsImNsb3NlIiwic2hhcmVfYm94Il0sIm1hcHBpbmdzIjoiQUFrRUEsUUFBQUEsMEJBQ0EsaUVBQUFDLEtBQUFDLFVBQUFDLFlBQ0FDLElBQUFDLFFBQUEsRUFDQUQsSUFBQUUsS0FBQUMsU0FBQSxnQkFFQUgsSUFBQUMsUUFBQSxFQUNBRCxJQUFBRSxLQUFBQyxTQUFBLGdCQUtBLFFBQUFDLHNCQUNBSixJQUFBSyxLQUFBQyxPQUFBTixJQUFBTyxRQUFBQyxLQUdBUixJQUFBTyxRQUFBQyxJQUFBLEdBQUFDLE1BQUFDLFFBQUEsRUFHQUMsT0FBQUMsaUJBQUFaLElBQUFPLFFBQUFDLElBQUEsSUFBQUUsUUFHQVYsSUFBQU8sUUFBQUMsSUFBQSxHQUFBQyxNQUFBQyxRQUFBLEVBR0EsUUFBQUcsc0JBRUFiLElBQUFPLFFBQUFDLElBQUEsR0FBQUMsTUFBQUMsUUFBQSxFQUdBVixJQUFBTyxRQUFBQyxJ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RUE0TSxHQUFBeFEsU0FBQSxhQUNBd1EsRUFBQS9WLFNBQUEsV0FDQXdPLFdBQUEsV0FDQXVILEVBQUE5VCxZQUFBLFdBQ0E4VCxFQUFBOVQsWUFBQSxZQUNBLFdBS0FxRCIsImZpbGUiOiJ0aGVtZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ2VydHkgRnVuY3Rpb25zXHJcbiAqL1xyXG5cclxuLyogSW5pdCBHbG9iYWwgVmFyaWFibGVzICovXHJcbmNlcnR5LmluaXRHbG9iYWxWYXJzID0gZnVuY3Rpb24oKXtcclxuICAgIC8vIGdldCBkb2N1bWVudCA8aHRtbD5cclxuICAgIHRoaXMudmFycy5odG1sID0galF1ZXJ5KCdodG1sJyk7XHJcblxyXG4gICAgLy8gZ2V0IGRvY3VtZW50IDxib2R5PlxyXG4gICAgdGhpcy52YXJzLmJvZHkgPSBqUXVlcnkoJ2JvZHknKTtcclxuXHJcbiAgICAvLyBnZXQgZG9jdW1lbnQgI2Zvb3RlclxyXG4gICAgdGhpcy52YXJzLmZvb3RlciA9IGpRdWVyeSgnI2NydEZvb3RlcicpO1xyXG5cclxuICAgIC8vIGdldCB3aW5kb3cgV2lkdGhcclxuICAgIHRoaXMudmFycy53aW5kb3dXID0galF1ZXJ5KHdpbmRvdykud2lkdGgoKTtcclxuXHJcbiAgICAvLyBnZXQgd2luZG93IGhlaWdodFxyXG4gICAgdGhpcy52YXJzLndpbmRvd0ggPSBqUXVlcnkod2luZG93KS5oZWlnaHQoKTtcclxuXHJcbiAgICAvLyBnZXQgd2luZG93IHNjcm9sbCB0b3BcclxuICAgIHRoaXMudmFycy53aW5kb3dTY3JvbGxUb3AgPSBqUXVlcnkod2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHJcbiAgICAvLyBkZXRlY3QgZGV2aWNlIHR5cGVcclxuICAgIGlmICgvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcclxuICAgICAgICB0aGlzLnZhcnMubW9iaWxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnZhcnMuaHRtbC5hZGRDbGFzcygnbW9iaWxlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMudmFycy5tb2JpbGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZhcnMuaHRtbC5hZGRDbGFzcygnZGVza3RvcCcpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyogTG9jayBXaW5kb3cgU2Nyb2xsICovXHJcbmNlcnR5LmxvY2tTY3JvbGwgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIGluaXRXaWR0aCA9IGNlcnR5LnZhcnMuaHRtbC5vdXRlcldpZHRoKCk7XHJcbiAgICB2YXIgaW5pdEhlaWdodCA9IGNlcnR5LnZhcnMuYm9keS5vdXRlckhlaWdodCgpO1xyXG5cclxuICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IFtcclxuICAgICAgICBzZWxmLnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCxcclxuICAgICAgICBzZWxmLnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3BcclxuICAgIF07XHJcblxyXG4gICAgY2VydHkudmFycy5odG1sLmRhdGEoJ3Njcm9sbC1wb3NpdGlvbicsIHNjcm9sbFBvc2l0aW9uKTtcclxuICAgIGNlcnR5LnZhcnMuaHRtbC5kYXRhKCdwcmV2aW91cy1vdmVyZmxvdycsIGNlcnR5LnZhcnMuaHRtbC5jc3MoJ292ZXJmbG93JykpO1xyXG4gICAgY2VydHkudmFycy5odG1sLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsUG9zaXRpb25bMF0sIHNjcm9sbFBvc2l0aW9uWzFdKTtcclxuXHJcbiAgICB2YXIgbWFyZ2luUiA9IGNlcnR5LnZhcnMuYm9keS5vdXRlcldpZHRoKCkgLSBpbml0V2lkdGg7XHJcbiAgICB2YXIgbWFyZ2luQiA9IGNlcnR5LnZhcnMuYm9keS5vdXRlckhlaWdodCgpIC0gaW5pdEhlaWdodDtcclxuICAgIGNlcnR5LnZhcnMuYm9keS5jc3MoeydtYXJnaW4tcmlnaHQnOiBtYXJnaW5SLCAnbWFyZ2luLWJvdHRvbSc6IG1hcmdpbkJ9KTtcclxuICAgIGNlcnR5LnZhcnMuaHRtbC5hZGRDbGFzcygnbG9jay1zY3JvbGwnKTtcclxufTtcclxuXHJcbi8qIFVubG9jayBXaW5kb3cgU2Nyb2xsICovXHJcbmNlcnR5LnVubG9ja1Njcm9sbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBjZXJ0eS52YXJzLmh0bWwuY3NzKCdvdmVyZmxvdycsIGNlcnR5LnZhcnMuaHRtbC5kYXRhKCdwcmV2aW91cy1vdmVyZmxvdycpKTtcclxuICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IGNlcnR5LnZhcnMuaHRtbC5kYXRhKCdzY3JvbGwtcG9zaXRpb24nKTtcclxuICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxQb3NpdGlvblswXSwgc2Nyb2xsUG9zaXRpb25bMV0pO1xyXG5cclxuICAgIGNlcnR5LnZhcnMuYm9keS5jc3MoeydtYXJnaW4tcmlnaHQnOiAwLCAnbWFyZ2luLWJvdHRvbSc6IDB9KTtcclxuICAgIGNlcnR5LnZhcnMuaHRtbC5yZW1vdmVDbGFzcygnbG9jay1zY3JvbGwnKTtcclxufTtcclxuXHJcbi8qIERldGVjdCBEZXZpY2UgVHlwZSAqL1xyXG5mdW5jdGlvbiBhY2VfZGV0ZWN0X2RldmljZV90eXBlKCkge1xyXG4gICAgaWYgKC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xyXG4gICAgICAgIGFjZS5tb2JpbGUgPSB0cnVlO1xyXG4gICAgICAgIGFjZS5odG1sLmFkZENsYXNzKCdjcnQtbW9iaWxlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFjZS5tb2JpbGUgPSBmYWxzZTtcclxuICAgICAgICBhY2UuaHRtbC5hZGRDbGFzcygnY3J0LWRlc2t0b3AnKTtcclxuICAgIH1cclxufVxyXG5cclxuLyogQ2VydHkgT3ZlcmxheSAqL1xyXG5mdW5jdGlvbiBhY2VfYXBwZW5kX292ZXJsYXkoKSB7XHJcbiAgICBhY2UuYm9keS5hcHBlbmQoYWNlLm92ZXJsYXkub2JqKTtcclxuXHJcbiAgICAvLyBNYWtlIHRoZSBlbGVtZW50IGZ1bGx5IHRyYW5zcGFyZW50XHJcbiAgICBhY2Uub3ZlcmxheS5vYmpbMF0uc3R5bGUub3BhY2l0eSA9IDA7XHJcblxyXG4gICAgLy8gTWFrZSBzdXJlIHRoZSBpbml0aWFsIHN0YXRlIGlzIGFwcGxpZWRcclxuICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGFjZS5vdmVybGF5Lm9ialswXSkub3BhY2l0eTtcclxuXHJcbiAgICAvLyBGYWRlIGl0IGluXHJcbiAgICBhY2Uub3ZlcmxheS5vYmpbMF0uc3R5bGUub3BhY2l0eSA9IDE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFjZV9yZW1vdmVfb3ZlcmxheSgpIHtcclxuICAgIC8vIEZhZGUgaXQgb3V0XHJcbiAgICBhY2Uub3ZlcmxheS5vYmpbMF0uc3R5bGUub3BhY2l0eSA9IDA7XHJcblxyXG4gICAgLy8gUmVtb3ZlIG92ZXJsYXlcclxuICAgIGFjZS5vdmVybGF5Lm9iai5yZW1vdmUoKTtcclxufVxyXG5cclxuLyogQ2VydHkgTG9jayBTY3JvbGwgKi9cclxuZnVuY3Rpb24gYWNlX2xvY2tfc2Nyb2xsKCkge1xyXG4gICAgdmFyIGluaXRXaWR0aCA9IGFjZS5odG1sLm91dGVyV2lkdGgoKTtcclxuICAgIHZhciBpbml0SGVpZ2h0ID0gYWNlLmJvZHkub3V0ZXJIZWlnaHQoKTtcclxuXHJcbiAgICB2YXIgc2Nyb2xsUG9zaXRpb24gPSBbXHJcbiAgICAgICAgc2VsZi5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsXHJcbiAgICAgICAgc2VsZi5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wXHJcbiAgICBdO1xyXG5cclxuICAgIGFjZS5odG1sLmRhdGEoJ3Njcm9sbC1wb3NpdGlvbicsIHNjcm9sbFBvc2l0aW9uKTtcclxuICAgIGFjZS5odG1sLmRhdGEoJ3ByZXZpb3VzLW92ZXJmbG93JywgYWNlLmh0bWwuY3NzKCdvdmVyZmxvdycpKTtcclxuICAgIGFjZS5odG1sLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsUG9zaXRpb25bMF0sIHNjcm9sbFBvc2l0aW9uWzFdKTtcclxuXHJcbiAgICB2YXIgbWFyZ2luUiA9IGFjZS5ib2R5Lm91dGVyV2lkdGgoKSAtIGluaXRXaWR0aDtcclxuICAgIHZhciBtYXJnaW5CID0gYWNlLmJvZHkub3V0ZXJIZWlnaHQoKSAtIGluaXRIZWlnaHQ7XHJcbiAgICBhY2UuYm9keS5jc3MoeydtYXJnaW4tcmlnaHQnOiBtYXJnaW5SLCAnbWFyZ2luLWJvdHRvbSc6IG1hcmdpbkJ9KTtcclxuICAgIGFjZS5odG1sLmFkZENsYXNzKCdjcnQtbG9jay1zY3JvbGwnKTtcclxufVxyXG5cclxuLyogQ2VydHkgVW5sb2NrIFNjcm9sbCAqL1xyXG5mdW5jdGlvbiBhY2VfdW5sb2NrX3Njcm9sbCgpIHtcclxuICAgIGFjZS5odG1sLmNzcygnb3ZlcmZsb3cnLCBhY2UuaHRtbC5kYXRhKCdwcmV2aW91cy1vdmVyZmxvdycpKTtcclxuICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IGFjZS5odG1sLmRhdGEoJ3Njcm9sbC1wb3NpdGlvbicpO1xyXG4gICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbFBvc2l0aW9uWzBdLCBzY3JvbGxQb3NpdGlvblsxXSk7XHJcblxyXG4gICAgYWNlLmJvZHkuY3NzKHsnbWFyZ2luLXJpZ2h0JzogMCwgJ21hcmdpbi1ib3R0b20nOiAwfSk7XHJcbiAgICBhY2UuaHRtbC5yZW1vdmVDbGFzcygnY3J0LWxvY2stc2Nyb2xsJyk7XHJcbn1cclxuXHJcbi8qIENlcnR5IENsb3NlIFNpZGViYXIgKi9cclxuZnVuY3Rpb24gYWNlX29wZW5fc2lkZWJhcigpIHtcclxuICAgIGFjZS5odG1sLmFkZENsYXNzKCdjcnQtc2lkZWJhci1vcGVuZWQnKTtcclxuICAgIGFjZV9hcHBlbmRfb3ZlcmxheSgpO1xyXG4gICAgYWNlX2xvY2tfc2Nyb2xsKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFjZV9jbG9zZV9zaWRlYmFyKCkge1xyXG4gICAgYWNlLmh0bWwucmVtb3ZlQ2xhc3MoJ2NydC1zaWRlYmFyLW9wZW5lZCcpO1xyXG4gICAgYWNlX3JlbW92ZV9vdmVybGF5KCk7XHJcbiAgICBhY2VfdW5sb2NrX3Njcm9sbCgpO1xyXG59XHJcblxyXG4vKiBDZXJ0eSBQcm9ncmVzcyBDaXJjbGUgKi9cclxuZnVuY3Rpb24gYWNlX3Byb2dyZXNzX2NoYXJ0KGVsZW1lbnQsIHRleHQsIHZhbHVlLCBkdXJhdGlvbikge1xyXG4gICAgLy8gV2UgaGF2ZSB1bmRlZmluZWQgdGV4dCB3aGVuIHVzZXIgZGlkbnRuIGZpbGwgdGV4dCBmaWVsZCBmcm9tIGFkbWluXHJcbiAgICBpZiAodHlwZW9mIHRleHQgPT09IFwidW5kZWZpbmVkXCIpIHsgdGV4dCA9IFwiXCI7IH1cclxuXHJcbiAgICB2YXIgY2lyY2xlID0gbmV3IFByb2dyZXNzQmFyLkNpcmNsZShlbGVtZW50LCB7XHJcbiAgICAgICAgY29sb3I6IGNlcnR5LnZhcnMudGhlbWVDb2xvcixcclxuICAgICAgICBzdHJva2VXaWR0aDogNSxcclxuICAgICAgICB0cmFpbFdpZHRoOiAwLFxyXG4gICAgICAgIHRleHQ6IHtcclxuICAgICAgICAgICAgdmFsdWU6IHRleHQsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ3Byb2dyZXNzLXRleHQnLFxyXG4gICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgdG9wOiAnNTAlJyxcclxuICAgICAgICAgICAgICAgIGxlZnQ6ICc1MCUnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IGNlcnR5LnByb2dyZXNzLnRleHRDb2xvcixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMCxcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybToge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWZpeDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXV0b1N0eWxlQ29udGFpbmVyOiB0cnVlLFxyXG4gICAgICAgICAgICBhbGlnblRvQm90dG9tOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdmdTdHlsZToge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxyXG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dCdcclxuICAgIH0pO1xyXG5cclxuICAgIGNpcmNsZS5hbmltYXRlKHZhbHVlKTsgLy8gTnVtYmVyIGZyb20gMC4wIHRvIDEuMFxyXG59XHJcblxyXG4vKiBDZXJ0eSBQcm9ncmVzcyBMaW5lICovXHJcbmZ1bmN0aW9uIGFjZV9wcm9ncmVzc19saW5lKGVsZW1lbnQsIHRleHQsIHZhbHVlLCBkdXJhdGlvbikge1xyXG4gICAgLy8gV2UgaGF2ZSB1bmRlZmluZWQgdGV4dCB3aGVuIHVzZXIgZGlkbnRuIGZpbGwgdGV4dCBmaWVsZCBmcm9tIGFkbWluXHJcbiAgICBpZiAodHlwZW9mIHRleHQgPT09IFwidW5kZWZpbmVkXCIpIHsgdGV4dCA9IFwiXCI7IH1cclxuICAgIFxyXG4gICAgdmFyIGxpbmUgPSBuZXcgUHJvZ3Jlc3NCYXIuTGluZShlbGVtZW50LCB7XHJcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDQsXHJcbiAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0JyxcclxuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgY29sb3I6IGNlcnR5LnZhcnMudGhlbWVDb2xvcixcclxuICAgICAgICB0cmFpbENvbG9yOiBjZXJ0eS5wcm9ncmVzcy50cmFpbENvbG9yLFxyXG4gICAgICAgIHRyYWlsV2lkdGg6IDQsXHJcbiAgICAgICAgc3ZnU3R5bGU6IHtcclxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJSdcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRleHQ6IHtcclxuICAgICAgICAgICAgdmFsdWU6IHRleHQsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ3Byb2dyZXNzLXRleHQnLFxyXG4gICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgdG9wOiAnLTI1cHgnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6ICcwJyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBjZXJ0eS5wcm9ncmVzcy50ZXh0Q29sb3IsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogMCxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVmaXg6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICd0cmFuc2xhdGUoMCwgMCknXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGF1dG9TdHlsZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGxpbmUuYW5pbWF0ZSh2YWx1ZSk7ICAvLyBOdW1iZXIgZnJvbSAwLjAgdG8gMS4wXHJcbn1cclxuXHJcbi8qIENlcnR5IEVsZW1lbnQgSW4gVmlld3BvcnQgKi9cclxuZnVuY3Rpb24gYWNlX2lzX2VsZW1faW5fdmlld3BvcnQoZWwsIHZwYXJ0KSB7XHJcbiAgICB2YXIgcmVjdCA9IGVsWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICByZWN0LmJvdHRvbSA+PSAwICYmXHJcbiAgICByZWN0LnJpZ2h0ID49IDAgJiZcclxuICAgIHJlY3QudG9wICsgdnBhcnQgPD0gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSAmJlxyXG4gICAgcmVjdC5sZWZ0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpXHJcbiAgICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhY2VfaXNfZWxlbXNfaW5fdmlld3BvcnQoZWxlbXMsIHZwYXJ0KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSBqUXVlcnkoZWxlbXNbaV0pO1xyXG5cclxuICAgICAgICBpZiAoaXRlbS5oYXNDbGFzcygnY3J0LWFuaW1hdGUnKSAmJiBhY2VfaXNfZWxlbV9pbl92aWV3cG9ydChpdGVtLCB2cGFydCkpIHtcclxuICAgICAgICAgICAgaXRlbS5yZW1vdmVDbGFzcygnY3J0LWFuaW1hdGUnKS5hZGRDbGFzcygnY3J0LWFuaW1hdGVkJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBBbmltYXRlIENpcmNsZSBDaGFydFxyXG4gICAgICAgICAgICBpZihpdGVtLmhhc0NsYXNzKCdwcm9ncmVzcy1jaGFydCcpKXtcclxuICAgICAgICAgICAgICAgIHZhciBjaGFydCA9IGl0ZW0uZmluZCgnLnByb2dyZXNzLWJhcicpO1xyXG4gICAgICAgICAgICAgICAgYWNlX3Byb2dyZXNzX2NoYXJ0KGNoYXJ0WzBdLCBjaGFydC5kYXRhKCd0ZXh0JyksIGNoYXJ0LmRhdGEoJ3ZhbHVlJyksIDEwMDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBbmltYXRlIExpbmUgQ2hhcnRcclxuICAgICAgICAgICAgaWYoaXRlbS5oYXNDbGFzcygncHJvZ3Jlc3MtbGluZScpKXtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gaXRlbS5maW5kKCcucHJvZ3Jlc3MtYmFyJyk7XHJcbiAgICAgICAgICAgICAgICBhY2VfcHJvZ3Jlc3NfbGluZShsaW5lWzBdLCBsaW5lLmRhdGEoJ3RleHQnKSwgbGluZS5kYXRhKCd2YWx1ZScpLCAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWNlX2FwcGVhcl9lbGVtcyhlbGVtcywgdnBhcnQpIHtcclxuICAgIGFjZV9pc19lbGVtc19pbl92aWV3cG9ydChlbGVtcywgdnBhcnQpO1xyXG5cclxuICAgIGpRdWVyeSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYWNlX2lzX2VsZW1zX2luX3ZpZXdwb3J0KGVsZW1zLCB2cGFydCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBqUXVlcnkod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGFjZV9pc19lbGVtc19pbl92aWV3cG9ydChlbGVtcywgdnBhcnQpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qIENlcnR5IEdvb2dsZSBNYXAgKi9cclxuZnVuY3Rpb24gaW5pdGlhbGlzZUdvb2dsZU1hcChtYXBTdHlsZXMpIHtcclxuICAgIHZhciBsYXRsbmc7XHJcbiAgICB2YXIgbGF0ID0gNDQuNTQwMztcclxuICAgIHZhciBsbmcgPSAtNzguNTQ2MztcclxuICAgIHZhciBtYXAgPSBqUXVlcnkoJyNtYXAnKTtcclxuICAgIHZhciBtYXBDYW52YXMgPSBtYXAuZ2V0KDApO1xyXG4gICAgdmFyIG1hcF9zdHlsZXMgPSBqUXVlcnkucGFyc2VKU09OKG1hcFN0eWxlcyk7XHJcblxyXG4gICAgaWYgKG1hcC5kYXRhKFwibGF0aXR1ZGVcIikpIGxhdCA9IG1hcC5kYXRhKFwibGF0aXR1ZGVcIik7XHJcbiAgICBpZiAobWFwLmRhdGEoXCJsb25naXR1ZGVcIikpIGxuZyA9IG1hcC5kYXRhKFwibG9uZ2l0dWRlXCIpO1xyXG5cclxuICAgIGxhdGxuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsbmcpO1xyXG5cclxuICAgIC8vIE1hcCBPcHRpb25zXHJcbiAgICB2YXIgbWFwT3B0aW9ucyA9IHtcclxuICAgICAgICB6b29tOiAxNCxcclxuICAgICAgICBjZW50ZXI6IGxhdGxuZyxcclxuICAgICAgICBzY3JvbGx3aGVlbDogdHJ1ZSxcclxuICAgICAgICBtYXBUeXBlSWQ6IGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQLFxyXG4gICAgICAgIHN0eWxlczogbWFwX3N0eWxlc1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIE1hcFxyXG4gICAgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChtYXBDYW52YXMsIG1hcE9wdGlvbnMpO1xyXG5cclxuICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICBwb3NpdGlvbjogbGF0bG5nLFxyXG4gICAgICAgIGljb246IHtcclxuICAgICAgICAgICAgcGF0aDogJ00xMjUgNDEwIGMtNTYgLTcyIC0xMTEgLTE3NiAtMTIwIC0yMjQgLTcgLTM2IDExIC04MyA0OSAtMTI0IDc2IC04NSAyMjMgLTY3IDI3MCAzMSAyOCA2MCAyOSA4OCA2IDE1MCAtMTkgNTEgLTEyMiAyMDUgLTE0OCAyMjEgLTYgMyAtMzIgLTIxIC01NyAtNTR6IG0xMTAgLTE3NSBjMzUgLTM0IDMzIC03OCAtNCAtMTE2IC0zNSAtMzUgLTcxIC0zNyAtMTA1IC03IC00MCAzNSAtNDMgNzggLTExIDExNiAzNCA0MSA4NCA0NCAxMjAgN3onLFxyXG4gICAgICAgICAgICBmaWxsQ29sb3I6IGNlcnR5X3ZhcnNfZnJvbV9XUC50aGVtZUNvbG9yLFxyXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMSxcclxuICAgICAgICAgICAgc2NhbGU6IDAuMSxcclxuICAgICAgICAgICAgc3Ryb2tlQ29sb3I6IGNlcnR5X3ZhcnNfZnJvbV9XUC50aGVtZUNvbG9yLFxyXG4gICAgICAgICAgICBzdHJva2VXZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgIGFuY2hvcjogbmV3IGdvb2dsZS5tYXBzLlBvaW50KDE4NSwgNTAwKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGl0bGU6ICdIZWxsbyBXb3JsZCEnXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKnZhciBtYXJrZXIgPSBuZXcgTWFya2VyKHtcclxuICAgICBtYXA6IG1hcCxcclxuICAgICBwb3NpdGlvbjogbGF0bG5nLFxyXG4gICAgIGljb246IHtcclxuICAgICBwYXRoOiBTUVVBUkVfUElOLFxyXG4gICAgIGZpbGxDb2xvcjogJycsXHJcbiAgICAgZmlsbE9wYWNpdHk6IDAsXHJcbiAgICAgc3Ryb2tlQ29sb3I6ICcnLFxyXG4gICAgIHN0cm9rZVdlaWdodDogMFxyXG4gICAgIH0sXHJcbiAgICAgbWFwX2ljb25fbGFiZWw6ICc8c3BhbiBjbGFzcz1cIm1hcC1pY29uIG1hcC1pY29uLXBvc3RhbC1jb2RlXCI+PC9zcGFuPidcclxuICAgICB9KTsqL1xyXG5cclxuICAgIC8vIEtlZXAgTWFya2VyIGluIENlbnRlclxyXG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIod2luZG93LCAncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1hcC5zZXRDZW50ZXIobGF0bG5nKTtcclxuICAgIH0pO1xyXG59IiwiLyoqXHJcbiAqIENlcnR5IE9wdGlvbnNcclxuICovXHJcblxyXG52YXIgbmF2U3Rpa3kgPSBmYWxzZTtcclxuaWYoY2VydHlfdmFyc19mcm9tX1dQLmVuYWJsZV9zdGlja3kgPT0gMSkgeyBuYXZTdGlreSA9IHRydWU7IH1cclxuXHJcblxyXG52YXIgY2VydHkgPSB7XHJcbiAgICB2YXJzOiB7XHJcbiAgICAgICAgLy8gU2V0IHRoZW1lIHJ0bCBtb2RlXHJcbiAgICAgICAgcnRsOiBmYWxzZSxcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZW1lIHByaW1hcnkgY29sb3JcclxuICAgICAgICB0aGVtZUNvbG9yOiBjZXJ0eV92YXJzX2Zyb21fV1AudGhlbWVDb2xvcixcclxuXHJcbiAgICAgICAgLy8gU2V0IG1pZGRsZSBzY3JlZW4gc2l6ZSwgbXVzdCBoYXZlIHRoZSBzYW1lIHZhbHVlIGFzIGluIHRoZSBfdmFyaWFibGVzLnNjc3NcclxuICAgICAgICBzY3JlZW5NZDogJzk5MnB4J1xyXG4gICAgfSxcclxuXHJcbiAgICBuYXY6IHtcclxuICAgICAgICBoZWlnaHQ6ICdhdXRvJywgLy8gdXNlICdhdXRvJyBvciBzb21lIGZpeGVkIHZhbHVlLCBmb3IgZXhhbXBsZSA0ODBweFxyXG4gICAgICAgIGFycm93OiBmYWxzZSwgLy8gYWN0aXZhdGUgYXJyb3cgdG8gc2Nyb2xsIGRvd24gbWVudSBpdGVtcyxcclxuICAgICAgICBzdGlja3k6IHtcclxuICAgICAgICAgICAgdG9wOiBcIi0xcHhcIiwgLy8gc3RpY2t5IHBvc2l0aW9uIGZyb20gdG9wXHJcbiAgICAgICAgICAgIGFjdGl2ZTogbmF2U3Rpa3kgLy8gYWN0aXZhdGUgc3RpY2t5IHByb3BlcnR5IG9uIHdpbmRvdyBzY3JvbGxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRvb2x0aXA6IHtcclxuICAgICAgICAgICAgYWN0aXZlOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzaWRlQm94OiB7XHJcbiAgICAgICAgc3RpY2t5OiB7XHJcbiAgICAgICAgICAgIHRvcDogXCIyMHB4XCIsIC8vIHN0aWNreSBwb3NpdGlvbiBmcm9tIHRvcFxyXG4gICAgICAgICAgICBhY3RpdmU6IGZhbHNlIC8vIGFjdGl2YXRlIHN0aWNreSBwcm9wZXJ0eSBvbiB3aW5kb3cgc2Nyb2xsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBwcm9ncmVzczoge1xyXG4gICAgICAgIGFuaW1hdGlvbjogdHJ1ZSwgLy8gYW5pbWF0ZSBvbiB3aW5kb3cgc2Nyb2xsXHJcbiAgICAgICAgdGV4dENvbG9yOiAnaW5oZXJpdCcsIC8vIHNldCB0ZXh0IGNvbG9yXHJcbiAgICAgICAgdHJhaWxDb2xvcjogJ3JnYmEoMCwwLDAsMC4wNyknIC8vIHNldCB0cmFpbCBjb2xvclxyXG4gICAgfVxyXG59OyIsIi8qXHJcbiAqIGpRdWVyeSBPbmUgUGFnZSBOYXYgUGx1Z2luXHJcbiAqIGh0dHA6Ly9naXRodWIuY29tL2RhdmlzdDExL2pRdWVyeS1PbmUtUGFnZS1OYXZcclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDEwIFRyZXZvciBEYXZpcyAoaHR0cDovL3RyZXZvcmRhdmlzLm5ldClcclxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuXHJcbiAqIFVzZXMgdGhlIHNhbWUgbGljZW5zZSBhcyBqUXVlcnksIHNlZTpcclxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxyXG4gKlxyXG4gKiBAdmVyc2lvbiAzLjAuMFxyXG4gKlxyXG4gKiBFeGFtcGxlIHVzYWdlOlxyXG4gKiAkKCcjbmF2Jykub25lUGFnZU5hdih7XHJcbiAqICAgY3VycmVudENsYXNzOiAnY3VycmVudCcsXHJcbiAqICAgY2hhbmdlSGFzaDogZmFsc2UsXHJcbiAqICAgc2Nyb2xsU3BlZWQ6IDc1MFxyXG4gKiB9KTtcclxuICovXHJcblxyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCl7XHJcblxyXG4gICAgLy8gb3VyIHBsdWdpbiBjb25zdHJ1Y3RvclxyXG4gICAgdmFyIE9uZVBhZ2VOYXYgPSBmdW5jdGlvbihlbGVtLCBvcHRpb25zKXtcclxuICAgICAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG4gICAgICAgIHRoaXMuJGVsZW0gPSAkKGVsZW0pO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IHRoaXMuJGVsZW0uZGF0YSgncGx1Z2luLW9wdGlvbnMnKTtcclxuICAgICAgICB0aGlzLiR3aW4gPSAkKHdpbmRvdyk7XHJcbiAgICAgICAgdGhpcy5zZWN0aW9ucyA9IHt9O1xyXG4gICAgICAgIHRoaXMuZGlkU2Nyb2xsID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy4kZG9jID0gJChkb2N1bWVudCk7XHJcbiAgICAgICAgdGhpcy5kb2NIZWlnaHQgPSB0aGlzLiRkb2MuaGVpZ2h0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHRoZSBwbHVnaW4gcHJvdG90eXBlXHJcbiAgICBPbmVQYWdlTmF2LnByb3RvdHlwZSA9IHtcclxuICAgICAgICBkZWZhdWx0czoge1xyXG4gICAgICAgICAgICBuYXZJdGVtczogJ2EnLFxyXG4gICAgICAgICAgICBjdXJyZW50Q2xhc3M6ICdjdXJyZW50JyxcclxuICAgICAgICAgICAgY2hhbmdlSGFzaDogZmFsc2UsXHJcbiAgICAgICAgICAgIGVhc2luZzogJ3N3aW5nJyxcclxuICAgICAgICAgICAgZmlsdGVyOiAnJyxcclxuICAgICAgICAgICAgc2Nyb2xsU3BlZWQ6IDc1MCxcclxuICAgICAgICAgICAgc2Nyb2xsVGhyZXNob2xkOiAwLjUsXHJcbiAgICAgICAgICAgIGJlZ2luOiBmYWxzZSxcclxuICAgICAgICAgICAgZW5kOiBmYWxzZSxcclxuICAgICAgICAgICAgc2Nyb2xsQ2hhbmdlOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvLyBJbnRyb2R1Y2UgZGVmYXVsdHMgdGhhdCBjYW4gYmUgZXh0ZW5kZWQgZWl0aGVyXHJcbiAgICAgICAgICAgIC8vIGdsb2JhbGx5IG9yIHVzaW5nIGFuIG9iamVjdCBsaXRlcmFsLlxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9ICQuZXh0ZW5kKHt9LCB0aGlzLmRlZmF1bHRzLCB0aGlzLm9wdGlvbnMsIHRoaXMubWV0YWRhdGEpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kbmF2ID0gdGhpcy4kZWxlbS5maW5kKHRoaXMuY29uZmlnLm5hdkl0ZW1zKTtcclxuXHJcbiAgICAgICAgICAgIC8vRmlsdGVyIGFueSBsaW5rcyBvdXQgb2YgdGhlIG5hdlxyXG4gICAgICAgICAgICBpZih0aGlzLmNvbmZpZy5maWx0ZXIgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRuYXYgPSB0aGlzLiRuYXYuZmlsdGVyKHRoaXMuY29uZmlnLmZpbHRlcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vSGFuZGxlIGNsaWNrcyBvbiB0aGUgbmF2XHJcbiAgICAgICAgICAgIHRoaXMuJG5hdi5vbignY2xpY2sub25lUGFnZU5hdicsICQucHJveHkodGhpcy5oYW5kbGVDbGljaywgdGhpcykpO1xyXG5cclxuICAgICAgICAgICAgLy9HZXQgdGhlIHNlY3Rpb24gcG9zaXRpb25zXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0UG9zaXRpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAvL0hhbmRsZSBzY3JvbGwgY2hhbmdlc1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRJbnRlcnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgLy9VcGRhdGUgdGhlIHBvc2l0aW9ucyBvbiByZXNpemUgdG9vXHJcbiAgICAgICAgICAgIHRoaXMuJHdpbi5vbigncmVzaXplLm9uZVBhZ2VOYXYnLCAkLnByb3h5KHRoaXMuZ2V0UG9zaXRpb25zLCB0aGlzKSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBhZGp1c3ROYXY6IGZ1bmN0aW9uKHNlbGYsICRwYXJlbnQpIHtcclxuICAgICAgICAgICAgc2VsZi4kZWxlbS5maW5kKCcuJyArIHNlbGYuY29uZmlnLmN1cnJlbnRDbGFzcykucmVtb3ZlQ2xhc3Moc2VsZi5jb25maWcuY3VycmVudENsYXNzKTtcclxuICAgICAgICAgICAgJHBhcmVudC5hZGRDbGFzcyhzZWxmLmNvbmZpZy5jdXJyZW50Q2xhc3MpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGJpbmRJbnRlcnZhbDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIGRvY0hlaWdodDtcclxuXHJcbiAgICAgICAgICAgIHNlbGYuJHdpbi5vbignc2Nyb2xsLm9uZVBhZ2VOYXYnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuZGlkU2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzZWxmLnQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGRvY0hlaWdodCA9IHNlbGYuJGRvYy5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0lmIGl0IHdhcyBzY3JvbGxlZFxyXG4gICAgICAgICAgICAgICAgaWYoc2VsZi5kaWRTY3JvbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmRpZFNjcm9sbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2Nyb2xsQ2hhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9JZiB0aGUgZG9jdW1lbnQgaGVpZ2h0IGNoYW5nZXNcclxuICAgICAgICAgICAgICAgIGlmKGRvY0hlaWdodCAhPT0gc2VsZi5kb2NIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmRvY0hlaWdodCA9IGRvY0hlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmdldFBvc2l0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAyNTApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldEhhc2g6IGZ1bmN0aW9uKCRsaW5rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkbGluay5hdHRyKCdocmVmJykuc3BsaXQoJyMnKVsxXTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRQb3NpdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBsaW5rSHJlZjtcclxuICAgICAgICAgICAgdmFyIHRvcFBvcztcclxuICAgICAgICAgICAgdmFyICR0YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICBzZWxmLiRuYXYuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxpbmtIcmVmID0gc2VsZi5nZXRIYXNoKCQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgJHRhcmdldCA9ICQoJyMnICsgbGlua0hyZWYpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCR0YXJnZXQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wUG9zID0gJHRhcmdldC5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWN0aW9uc1tsaW5rSHJlZl0gPSBNYXRoLnJvdW5kKHRvcFBvcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldFNlY3Rpb246IGZ1bmN0aW9uKHdpbmRvd1Bvcykge1xyXG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgd2luZG93SGVpZ2h0ID0gTWF0aC5yb3VuZCh0aGlzLiR3aW4uaGVpZ2h0KCkgKiB0aGlzLmNvbmZpZy5zY3JvbGxUaHJlc2hvbGQpO1xyXG5cclxuICAgICAgICAgICAgZm9yKHZhciBzZWN0aW9uIGluIHRoaXMuc2VjdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGlmKCh0aGlzLnNlY3Rpb25zW3NlY3Rpb25dIC0gd2luZG93SGVpZ2h0KSA8IHdpbmRvd1Bvcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gc2VjdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgdmFyICRsaW5rID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgICAgICAgICB2YXIgJHBhcmVudCA9ICRsaW5rLnBhcmVudCgpO1xyXG4gICAgICAgICAgICB2YXIgbmV3TG9jID0gJyMnICsgc2VsZi5nZXRIYXNoKCRsaW5rKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCEkcGFyZW50Lmhhc0NsYXNzKHNlbGYuY29uZmlnLmN1cnJlbnRDbGFzcykpIHtcclxuICAgICAgICAgICAgICAgIC8vU3RhcnQgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIGlmKHNlbGYuY29uZmlnLmJlZ2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb25maWcuYmVnaW4oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL0NoYW5nZSB0aGUgaGlnaGxpZ2h0ZWQgbmF2IGl0ZW1cclxuICAgICAgICAgICAgICAgIHNlbGYuYWRqdXN0TmF2KHNlbGYsICRwYXJlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vUmVtb3ZpbmcgdGhlIGF1dG8tYWRqdXN0IG9uIHNjcm9sbFxyXG4gICAgICAgICAgICAgICAgc2VsZi51bmJpbmRJbnRlcnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vU2Nyb2xsIHRvIHRoZSBjb3JyZWN0IHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICBzZWxmLnNjcm9sbFRvKG5ld0xvYywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EbyB3ZSBuZWVkIHRvIGNoYW5nZSB0aGUgaGFzaD9cclxuICAgICAgICAgICAgICAgICAgICBpZihzZWxmLmNvbmZpZy5jaGFuZ2VIYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGhpc3RvcnkucHVzaFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBudWxsLCBuZXdMb2MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBuZXdMb2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIHRoZSBhdXRvLWFkanVzdCBvbiBzY3JvbGwgYmFjayBpblxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYmluZEludGVydmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vRW5kIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5jb25maWcuZW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29uZmlnLmVuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2Nyb2xsQ2hhbmdlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHdpbmRvd1RvcCA9IHRoaXMuJHdpbi5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5nZXRTZWN0aW9uKHdpbmRvd1RvcCk7XHJcbiAgICAgICAgICAgIHZhciAkcGFyZW50O1xyXG5cclxuICAgICAgICAgICAgLy9JZiB0aGUgcG9zaXRpb24gaXMgc2V0XHJcbiAgICAgICAgICAgIGlmKHBvc2l0aW9uICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAkcGFyZW50ID0gdGhpcy4kZWxlbS5maW5kKCdhW2hyZWYkPVwiIycgKyBwb3NpdGlvbiArICdcIl0nKS5wYXJlbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0lmIGl0J3Mgbm90IGFscmVhZHkgdGhlIGN1cnJlbnQgc2VjdGlvblxyXG4gICAgICAgICAgICAgICAgaWYoISRwYXJlbnQuaGFzQ2xhc3ModGhpcy5jb25maWcuY3VycmVudENsYXNzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vQ2hhbmdlIHRoZSBoaWdobGlnaHRlZCBuYXYgaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0TmF2KHRoaXMsICRwYXJlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL0lmIHRoZXJlIGlzIGEgc2Nyb2xsQ2hhbmdlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jb25maWcuc2Nyb2xsQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLnNjcm9sbENoYW5nZSgkcGFyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzY3JvbGxUbzogZnVuY3Rpb24odGFyZ2V0LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAkKHRhcmdldCkub2Zmc2V0KCkudG9wO1xyXG5cclxuICAgICAgICAgICAgaWYoICQodGFyZ2V0KS5jbG9zZXN0KCcuY3J0LXBhcGVyLWxheWVycycpLmhhc0NsYXNzKCdjcnQtYW5pbWF0ZScpICl7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBvZmZzZXQgLSAxNDU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBvZmZzZXQgLSA0NTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIG9mZnNldFxyXG4gICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IG9mZnNldFxyXG4gICAgICAgICAgICB9LCB0aGlzLmNvbmZpZy5zY3JvbGxTcGVlZCwgdGhpcy5jb25maWcuZWFzaW5nLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgdW5iaW5kSW50ZXJ2YWw6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudCk7XHJcbiAgICAgICAgICAgIHRoaXMuJHdpbi51bmJpbmQoJ3Njcm9sbC5vbmVQYWdlTmF2Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBPbmVQYWdlTmF2LmRlZmF1bHRzID0gT25lUGFnZU5hdi5wcm90b3R5cGUuZGVmYXVsdHM7XHJcblxyXG4gICAgJC5mbi5vbmVQYWdlTmF2ID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBPbmVQYWdlTmF2KHRoaXMsIG9wdGlvbnMpLmluaXQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG59KSggalF1ZXJ5LCB3aW5kb3cgLCBkb2N1bWVudCApOyIsIi8qKlxyXG4gKiBDZXJ0eSBOYXZpZ2F0aW9uXHJcbiAqL1xyXG5cclxuLy8gTmF2aWdhdGlvbiBXaXRoIFNjcm9sbCBhbmQgQXJyb3dcclxuY2VydHkubmF2LmluaXRTY3JvbGwgPSBmdW5jdGlvbiggZWwgKXtcclxuICAgIC8vIFNldCBOYXYgSGVpZ2h0XHJcbiAgICAvLyBjZXJ0eS5uYXYuc2Nyb2xsID0gZWw7XHJcblxyXG4gICAgZWwuaGVpZ2h0KGVsLmhlaWdodCgpKS5hbmltYXRlKHtoZWlnaHQ6IGNlcnR5Lm5hdi5oZWlnaHR9LCA3MDAsIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgIC8vIE1vdXNlIFNjcm9sbFxyXG4gICAgICAgIGVsLm1DdXN0b21TY3JvbGxiYXIoe1xyXG4gICAgICAgICAgICBheGlzOiBcInlcIixcclxuICAgICAgICAgICAgc2Nyb2xsYmFyUG9zaXRpb246IFwib3V0c2lkZVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBcnJvdyBTY3JvbGxcclxuICAgIGlmIChjZXJ0eS5uYXYuYXJyb3cpe1xyXG4gICAgICAgIGpRdWVyeShcIiNjcnROYXZUb29sc1wiKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblxyXG4gICAgICAgIGpRdWVyeShcIiNjcnROYXZBcnJvd1wiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZWwubUN1c3RvbVNjcm9sbGJhcignc2Nyb2xsVG8nLCAnLT0nK2NlcnR5Lm5hdi5oZWlnaHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gU3RpY2t5IE5hdmlnYXRpb25cclxuY2VydHkubmF2LmV4aXN0cyA9IGZhbHNlO1xyXG5jZXJ0eS5uYXYubWFrZVN0aWNreSA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgLy8gY2hlY2sgc3RpY2t5IG9wdGlvbiwgZGV2aWNlIHR5cGUgYW5kIHNjcmVlbiBzaXplXHJcbiAgICBpZiAoIHRoaXMuc3RpY2t5LmFjdGl2ZSAmJiAhY2VydHkudmFycy5tb2JpbGUgJiYgTW9kZXJuaXpyLm1xKCcobWluLXdpZHRoOiAnICsgY2VydHkudmFycy5zY3JlZW5NZCArICcpJykgKSB7XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIGlmIG5hdiBub2RlcyBleGlzdHNcclxuICAgICAgICBpZiAoIHRoaXMuZXhpc3RzICl7XHJcblxyXG4gICAgICAgICAgICAvLyBjaGVjayBpZiB3aW5kb3cgc2Nyb2xsIHBhc3MgZWxlbWVudFxyXG4gICAgICAgICAgICBpZiAoIGNlcnR5LnZhcnMud2luZG93U2Nyb2xsVG9wID4gdGhpcy53cmFwLm9mZnNldCgpLnRvcCApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWwuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAndG9wJzogdGhpcy5zdGlja3kudG9wLFxyXG4gICAgICAgICAgICAgICAgICAgICdsZWZ0JzogdGhpcy53cmFwLm9mZnNldCgpLmxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJzogdGhpcy53cmFwLndpZHRoKCksXHJcbiAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbSc6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAnZml4ZWQnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWwuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAndG9wJzogJzAnLFxyXG4gICAgICAgICAgICAgICAgICAgICdsZWZ0JzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCc6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICAnYm90dG9tJzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdwb3NpdGlvbic6ICdyZWxhdGl2ZSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5lbCA9IGpRdWVyeSgnI2NydE5hdklubmVyJyk7XHJcbiAgICAgICAgICAgIHRoaXMud3JhcCA9IGpRdWVyeSgnI2NydE5hdldyYXAnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICggdGhpcy5lbC5sZW5ndGggPiAwICYmIHRoaXMud3JhcC5sZW5ndGggPiAwICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5leGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gTmF2aWdhdGlvbiBUb29sdGlwc1xyXG5jZXJ0eS5uYXYudG9vbHRpcC5lbCA9ICcnO1xyXG5jZXJ0eS5uYXYudG9vbHRpcC50aW1lciA9IDA7XHJcblxyXG5jZXJ0eS5uYXYudG9vbHRpcC5zaG93ID0gZnVuY3Rpb24oY3VycmVudCl7XHJcbiAgICBjZXJ0eS5uYXYudG9vbHRpcC50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBjZXJ0eS5uYXYudG9vbHRpcC5lbCA9IGpRdWVyeSgnPGRpdiBjbGFzcz1cImNydC10b29sdGlwXCI+PC9kaXY+Jyk7XHJcblxyXG4gICAgICAgIC8vIEluaXQgdmFyc1xyXG4gICAgICAgIHZhciB0b3AgPSBjdXJyZW50Lm9mZnNldCgpLnRvcDtcclxuICAgICAgICB2YXIgbGVmdCA9IGN1cnJlbnQub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICB2YXIgcmlnaHQgPSBsZWZ0ICsgY3VycmVudC5vdXRlcldpZHRoKCk7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gY3VycmVudC5vdXRlcldpZHRoKCk7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IDQ7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB0b29sdGlwXHJcbiAgICAgICAgY2VydHkudmFycy5ib2R5LmFwcGVuZCggY2VydHkubmF2LnRvb2x0aXAuZWwgKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRvb2x0aXAgdGV4dFxyXG4gICAgICAgIGNlcnR5Lm5hdi50b29sdGlwLmVsLnRleHQoIGN1cnJlbnQuZGF0YSgndG9vbHRpcCcpICk7XHJcblxyXG4gICAgICAgIC8vIFBvc2l0aW9uaW5nIHRvb2x0aXBcclxuICAgICAgICBpZiAocmlnaHQgKyBjZXJ0eS5uYXYudG9vbHRpcC5lbC5vdXRlcldpZHRoKCkgPCBjZXJ0eS52YXJzLndpbmRvd1cpIHtcclxuICAgICAgICAgICAgY2VydHkubmF2LnRvb2x0aXAuZWwuYWRkQ2xhc3MoJ2Fycm93LWxlZnQnKS5jc3Moe1wibGVmdFwiOiByaWdodCArIFwicHhcIiwgXCJ0b3BcIjogKHRvcCArIGhlaWdodCkgKyBcInB4XCJ9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjZXJ0eS5uYXYudG9vbHRpcC5lbC5hZGRDbGFzcygnYXJyb3ctcmlnaHQgdGV4dC1yaWdodCcpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBcImxlZnRcIjogKGxlZnQgLSBjZXJ0eS5uYXYudG9vbHRpcC5lbC5vdXRlcldpZHRoKCkgLSAxMCkgKyBcInB4XCIsXHJcbiAgICAgICAgICAgICAgICBcInRvcFwiOiAodG9wICsgaGVpZ2h0KSArIFwicHhcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNob3cgVG9vbHRpcFxyXG4gICAgICAgIGNlcnR5Lm5hdi50b29sdGlwLmVsLmZhZGVJbigxNTApO1xyXG5cclxuICAgIH0sIDE1MCk7XHJcbn07XHJcblxyXG5jZXJ0eS5uYXYudG9vbHRpcC5oaWRlID0gZnVuY3Rpb24oKXtcclxuICAgIGNsZWFyVGltZW91dChjZXJ0eS5uYXYudG9vbHRpcC50aW1lcik7XHJcbiAgICBpZiAoY2VydHkubmF2LnRvb2x0aXAuZWwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNlcnR5Lm5hdi50b29sdGlwLmVsLmZhZGVPdXQoMTUwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNlcnR5Lm5hdi50b29sdGlwLmVsLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59OyIsIi8qKlxyXG4gKiBDZXJ0eSBTaWRlIEJveFxyXG4gKi9cclxuY2VydHkuc2lkZUJveC5leGlzdHMgPSBmYWxzZTtcclxuY2VydHkuc2lkZUJveC5tYWtlU3RpY2t5ID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAvLyBjaGVjayBzdGlja3kgb3B0aW9uLCBkZXZpY2UgdHlwZSBhbmQgc2NyZWVuIHNpemVcclxuICAgIGlmICggdGhpcy5zdGlja3kuYWN0aXZlICYmICFjZXJ0eS52YXJzLm1vYmlsZSAmJiBNb2Rlcm5penIubXEoJyhtaW4td2lkdGg6ICcgKyBjZXJ0eS52YXJzLnNjcmVlbk1kICsgJyknKSApIHtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgaWYgbmF2IG5vZGVzIGV4aXN0c1xyXG4gICAgICAgIGlmICggdGhpcy5leGlzdHMgKXtcclxuXHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdpbmRvdyBzY3JvbGwgcGFzcyBlbGVtZW50XHJcbiAgICAgICAgICAgIGlmICggY2VydHkudmFycy53aW5kb3dTY3JvbGxUb3AgPiB0aGlzLndyYXAub2Zmc2V0KCkudG9wICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICd0b3AnOiB0aGlzLnN0aWNreS50b3AsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiB0aGlzLndyYXAub2Zmc2V0KCkubGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAnd2lkdGgnOiB0aGlzLndyYXAud2lkdGgoKSxcclxuICAgICAgICAgICAgICAgICAgICAnYm90dG9tJzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdwb3NpdGlvbic6ICdmaXhlZCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICd0b3AnOiAnMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdib3R0b20nOiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzogJ3JlbGF0aXZlJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmVsID0galF1ZXJ5KCcjY3J0U2lkZUJveCcpO1xyXG4gICAgICAgICAgICB0aGlzLndyYXAgPSBqUXVlcnkoJyNjcnRTaWRlQm94V3JhcCcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCB0aGlzLmVsLmxlbmd0aCA+IDAgJiYgdGhpcy53cmFwLmxlbmd0aCA+IDAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07IiwiLyoqXHJcbiAqIENlcnR5IFNsaWRlclxyXG4gKi9cclxuXHJcbi8vIFNsaWRlclxyXG5jZXJ0eS5zbGlkZXIgPSBmdW5jdGlvbihzbGlkZXIpe1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXIubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICBpZiggalF1ZXJ5KHNsaWRlcltpXSkuZGF0YShcImluaXRcIikgIT0gXCJub25lXCIgKXtcclxuICAgICAgICAgICBqUXVlcnkoc2xpZGVyW2ldKS5zbGljaygpO1xyXG4gICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gQ2Fyb3VzZWxcclxuY2VydHkuY2Fyb3VzZWwgPSBmdW5jdGlvbihjYXJvdXNlbCl7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcm91c2VsLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYoIGpRdWVyeShjYXJvdXNlbFtpXSkuZGF0YShcImluaXRcIikgIT09IFwibm9uZVwiICl7XHJcbiAgICAgICAgICAgIGpRdWVyeShjYXJvdXNlbFtpXSkuc2xpY2soe1xyXG4gICAgICAgICAgICAgICAgXCJkb3RzXCIgOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbiIsIi8qKlxyXG4gKiBDZXJ0eSBQb3J0Zm9saW9cclxuICovXHJcblxyXG5jZXJ0eS5wb3J0Zm9saW8gPSB7XHJcbiAgICBwb3B1cFNsaWRlcjogJycsXHJcbiAgICBwb3B1cENhcm91c2VsOiAnJyxcclxuICAgIGN1cnJlbnRFbWJlZDogZmFsc2UsXHJcbiAgICBjdXJyZW50RW1iZWRUeXBlOiBmYWxzZSxcclxuXHJcbiAgICBpbml0R3JpZDogZnVuY3Rpb24oZWwpe1xyXG4gICAgICAgIC8vIGlzb3RvcGUgaW5pdGlhbGl6YXRpb25cclxuICAgICAgICB2YXIgZ3JpZCA9IGVsLmlzb3RvcGUoe1xyXG4gICAgICAgICAgICBpc09yaWdpbkxlZnQ6ICFjZXJ0eS52YXJzLnJ0bCxcclxuICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLnBmLWdyaWQtaXRlbScsXHJcbiAgICAgICAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgbWFzb25yeToge1xyXG4gICAgICAgICAgICAgICAgY29sdW1uV2lkdGg6ICcucGYtZ3JpZC1zaXplcidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBsYXlvdXQgaXNvdG9wZSBhZnRlciBlYWNoIGltYWdlIGxvYWRzXHJcbiAgICAgICAgZ3JpZC5pbWFnZXNMb2FkZWQoKS5wcm9ncmVzcyggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGdyaWQuaXNvdG9wZSgnbGF5b3V0Jyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGlzb3RvcGUgZmlsdGVyXHJcbiAgICAgICAgdmFyIGZpbHRlciA9IGVsLmNsb3Nlc3QoJy5wZi13cmFwJykuZmluZCgnLnBmLWZpbHRlcicpO1xyXG4gICAgICAgIGlmIChmaWx0ZXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2J0biA9IGZpbHRlci5maW5kKCdidXR0b24nKTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9idG5fZmlyc3QgPSBqUXVlcnkoJy5wZi1maWx0ZXIgYnV0dG9uOmZpcnN0LWNoaWxkJyk7XHJcblxyXG4gICAgICAgICAgICBmaWx0ZXJfYnRuX2ZpcnN0LmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgIGZpbHRlcl9idG4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2J0bi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJWYWx1ZSA9IGpRdWVyeSh0aGlzKS5hdHRyKCdkYXRhLWZpbHRlcicpO1xyXG4gICAgICAgICAgICAgICAgZ3JpZC5pc290b3BlKHsgZmlsdGVyOiBmaWx0ZXJWYWx1ZSB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvcGVuUG9wdXA6IGZ1bmN0aW9uKGVsKXtcclxuICAgICAgICAvLyBhZGQgb3BlbmVkIGNsYXNzIG9uIGh0bWxcclxuICAgICAgICBjZXJ0eS52YXJzLmh0bWwuYWRkQ2xhc3MoJ2NydC1wZi1wb3B1cC1vcGVuZWQnKTtcclxuXHJcbiAgICAgICAgLy8gYXBwZW5kIHBvcnRmb2xpbyBwb3B1cFxyXG4gICAgICAgIHRoaXMucG9wdXBfd3JhcHBlciA9IGpRdWVyeSgnPGRpdiBpZD1cInBmLXBvcHVwLXdyYXBcIj4nK1xyXG5cdFx0XHQnPGJ1dHRvbiBpZD1cInBmLXBvcHVwLWNsb3NlXCI+PGkgY2xhc3M9XCJjcnQtaWNvbiBjcnQtaWNvbi1jbG9zZVwiPjwvaT48L2J1dHRvbj4nK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInBmLXBvcHVwLWlubmVyXCI+JytcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwZi1wb3B1cC1taWRkbGVcIj4nK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInBmLXBvcHVwLWNvbnRhaW5lclwiPicrXHJcbiAgICAgICAgICAgICc8YnV0dG9uIGlkPVwicGYtcG9wdXAtY2xvc2VcIj48aSBjbGFzcz1cInJzaWNvbiByc2ljb24tY2xvc2VcIj48L2k+PC9idXR0b24+JytcclxuICAgICAgICAgICAgJzxkaXYgaWQ9XCJwZi1wb3B1cC1jb250ZW50XCIgY2xhc3M9XCJwZi1wb3B1cC1jb250ZW50XCI+PC9kaXY+JytcclxuICAgICAgICAgICAgJzwvZGl2PicrXHJcbiAgICAgICAgICAgICc8L2Rpdj4nK1xyXG4gICAgICAgICAgICAnPC9kaXY+JytcclxuICAgICAgICAgICAgJzwvZGl2PicpO1xyXG5cclxuICAgICAgICBjZXJ0eS52YXJzLmJvZHkuYXBwZW5kKCB0aGlzLnBvcHVwX3dyYXBwZXIgKTtcclxuXHJcbiAgICAgICAgLy8gYWRkIHBvcnRmb2xpbyBwb3B1cCBjb250ZW50XHJcbiAgICAgICAgdGhpcy5wb3B1cF9jb250ZW50ID0galF1ZXJ5KCcjcGYtcG9wdXAtY29udGVudCcpO1xyXG4gICAgICAgIHRoaXMucG9wdXBfY29udGVudC5hcHBlbmQoIGVsLmNsb25lKCkgKTtcclxuXHJcbiAgICAgICAgLy8gcG9wdXAgc2xpZGVyXHJcbiAgICAgICAgdGhpcy5wb3B1cFNsaWRlciA9IGpRdWVyeSgnI3BmLXBvcHVwLWNvbnRlbnQgLnBmLXBvcHVwLW1lZGlhJyk7XHJcblxyXG4gICAgICAgIC8vIHBvcHVwIHNsaWRlcjogb24gaW5pdFxyXG4gICAgICAgIHRoaXMucG9wdXBTbGlkZXIub24oJ2luaXQnLCBmdW5jdGlvbihldmVudCwgc2xpY2spIHtcclxuICAgICAgICAgICAgY2VydHkucG9ydGZvbGlvLmxvYWRFbWJlZCgwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1ha2UgUG9ydGZvbGlvIFBvcHVwIFZpc2libGVcclxuICAgICAgICAgICAgalF1ZXJ5KHdpbmRvdykudHJpZ2dlcigncmVzaXplJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHBvcHVwIHNsaWRlcjogYmVmb3JlIGNoYW5nZVxyXG4gICAgICAgIHRoaXMucG9wdXBTbGlkZXIub24oJ2JlZm9yZUNoYW5nZScsIGZ1bmN0aW9uIChldmVudCwgc2xpY2ssIGN1cnJlbnRTbGlkZSwgbmV4dFNsaWRlKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBTdG9wIGN1cnJlbnQgc2xpZGUgaWZyYW1lL3ZpZGVvIHBsYXlcclxuICAgICAgICAgICAgaWYoIGNlcnR5LnBvcnRmb2xpby5jdXJyZW50RW1iZWQgJiYgY2VydHkucG9ydGZvbGlvLmN1cnJlbnRFbWJlZFR5cGUgKXtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoY2VydHkucG9ydGZvbGlvLmN1cnJlbnRFbWJlZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaWZyYW1lXCI6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWZyYW1lID0gY2VydHkucG9ydGZvbGlvLmN1cnJlbnRFbWJlZC5maW5kKCdpZnJhbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lLmF0dHIoJ3NyYycsIGlmcmFtZS5hdHRyKCdzcmMnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInZpZGVvXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2aWRlbyA9IGNlcnR5LnBvcnRmb2xpby5jdXJyZW50RW1iZWQuZmluZCgndmlkZW8nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9bMF0ucGF1c2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBMb2FkIG5leHQgc2xpZGUgZW1iZWRcclxuICAgICAgICAgICAgY2VydHkucG9ydGZvbGlvLmxvYWRFbWJlZChuZXh0U2xpZGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBwb3B1cCBzbGlkZXI6IGluaXRpYWxpemVcclxuICAgICAgICB0aGlzLnBvcHVwU2xpZGVyLnNsaWNrKHtcclxuICAgICAgICAgICAgc3BlZWQ6IDUwMCxcclxuICAgICAgICAgICAgZG90czogZmFsc2UsXHJcbiAgICAgICAgICAgIGFycm93OiB0cnVlLFxyXG4gICAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gcG9wdXAgY2Fyb3VzZWxcclxuICAgICAgICB0aGlzLnBvcHVwQ2Fyb3VzZWwgPSBqUXVlcnkoJyNwZi1wb3B1cC1jb250ZW50IC5wZi1yZWwtY2Fyb3VzZWwnKTtcclxuXHJcbiAgICAgICAgLy8gcG9wdXAgY2Fyb3VzZWw6IGluaXRpYWxpemVcclxuICAgICAgICB0aGlzLnBvcHVwQ2Fyb3VzZWwuc2xpY2soe1xyXG4gICAgICAgICAgICBkb3RzOiBmYWxzZSxcclxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcclxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDMsXHJcbiAgICAgICAgICAgIGxhenlMb2FkOiAnb25kZW1hbmQnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIG1ha2UgcG9ydGZvbGlvIHBvcHVwIHZpc2libGVcclxuICAgICAgICB0aGlzLnBvcHVwX3dyYXBwZXIuYWRkQ2xhc3MoJ3BmLW9wZW5lZCcpO1xyXG5cclxuICAgICAgICAvLyBsb2NrIHdpbmRvdyBzY3JvbGxcclxuICAgICAgICBjZXJ0eS5sb2NrU2Nyb2xsKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsb3NlUG9wdXA6IGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgICAgLy8gcmVtb3ZlIG9wZW5lZCBjbGFzcyBmcm9tIGh0bWxcclxuICAgICAgICBjZXJ0eS52YXJzLmh0bWwucmVtb3ZlQ2xhc3MoJ2NyLXBvcnRmb2xpby1vcGVuZWQnKTtcclxuXHJcbiAgICAgICAgLy8gbWFrZSBwb3J0Zm9saW8gcG9wdXAgaW52aXNpYmxlXHJcbiAgICAgICAgdGhpcy5wb3B1cF93cmFwcGVyLnJlbW92ZUNsYXNzKCdwZi1vcGVuZWQnKTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBjZXJ0eS5wb3J0Zm9saW8ucG9wdXBfd3JhcHBlci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgY2VydHkudW5sb2NrU2Nyb2xsKCk7XHJcbiAgICAgICAgfSwgNTAwKTtcclxuICAgIH0sXHJcblxyXG4gICAgbG9hZEVtYmVkOiBmdW5jdGlvbiAoc2xpZGVJbmRleCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50RW1iZWQgPSBqUXVlcnkoJyNwZi1wb3B1cC1jb250ZW50IC5wZi1wb3B1cC1zbGlkZVtkYXRhLXNsaWNrLWluZGV4PVwiJyArIHNsaWRlSW5kZXggKyAnXCJdJykuZmluZCgnLnBmLXBvcHVwLWVtYmVkJyk7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRFbWJlZFR5cGUgPSBqUXVlcnkudHJpbShjdXJyZW50RW1iZWQuZGF0YSgndHlwZScpKTtcclxuICAgICAgICB2YXIgY3VyZW50RW1iZWRVcmwgPSBqUXVlcnkudHJpbShjdXJyZW50RW1iZWQuZGF0YSgndXJsJykpO1xyXG5cclxuICAgICAgICBjZXJ0eS5wb3J0Zm9saW8uY3VycmVudEVtYmVkID0gY3VycmVudEVtYmVkO1xyXG4gICAgICAgIGNlcnR5LnBvcnRmb2xpby5jdXJyZW50RW1iZWRUeXBlID0gY3VycmVudEVtYmVkVHlwZTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgJ2N1cnJlbnRFbWJlZCcgc3RpbGwgbm90IGxvYWRlZCB0aGVuIGRvIGFjdGlvbnNcclxuICAgICAgICBpZiAoIWN1cnJlbnRFbWJlZC5oYXNDbGFzcygncGYtZW1iZWQtbG9hZGVkJykpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmICdjdXJyZW50RW1iZWQnIHVybCBhbmQgdHlwZSBhcmUgcHJvdmlkZWRcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50RW1iZWRUeXBlICE9PSB0eXBlb2YgdW5kZWZpbmVkICYmIGN1cnJlbnRFbWJlZFR5cGUgIT09IGZhbHNlICYmIGN1cnJlbnRFbWJlZFR5cGUgIT09IFwiXCIgJiYgdHlwZW9mIGN1cmVudEVtYmVkVXJsICE9PSB0eXBlb2YgdW5kZWZpbmVkICYmIGN1cmVudEVtYmVkVXJsICE9PSBmYWxzZSAmJiBjdXJlbnRFbWJlZFVybCAhPT0gXCJcIikge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNldCBlbWJlZCBkaW1lbnNpb25zIGlmIHByb3ZpZGVkXHJcbiAgICAgICAgICAgICAgICB2YXIgZW1iZWRXID0galF1ZXJ5LnRyaW0oY3VycmVudEVtYmVkLmRhdGEoJ3dpZHRoJykpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGVtYmVkSCA9IGpRdWVyeS50cmltKGN1cnJlbnRFbWJlZC5kYXRhKCdoZWlnaHQnKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVtYmVkVyAhPT0gdHlwZW9mIHVuZGVmaW5lZCAmJiBlbWJlZFcgIT09IGZhbHNlICYmIGVtYmVkVyAhPT0gXCJcIiAmJiB0eXBlb2YgZW1iZWRIICE9PSB0eXBlb2YgdW5kZWZpbmVkICYmIGVtYmVkSCAhPT0gZmFsc2UgJiYgZW1iZWRIICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVtYmVkLmNzcyh7J3BhZGRpbmctdG9wJzogKGVtYmVkSC9lbWJlZFcqMTAwKSsnJSd9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBMb2FkIGFwcHJvcHJpYXRlIGVtYmVkXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGN1cnJlbnRFbWJlZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGVtYmVkIHR5cGUgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVtYmVkLmFkZENsYXNzKCdwZi1lbWJlZC1pbWFnZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIGVtYmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBqUXVlcnkoJzxpbWcvPicse1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiBjdXJlbnRFbWJlZFVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiAnZGlzcGxheTpub25lJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5sb2FkKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykuZmFkZUluKDUwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW1iZWQuYWRkQ2xhc3MoJ3BmLWVtYmVkLWxvYWRlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVtYmVkLmFkZENsYXNzKCdwZi1lbWJlZC1lcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbWJlZC5lbXB0eSgpLmFwcGVuZChpbWcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpZnJhbWVcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGVtYmVkIHR5cGUgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVtYmVkLmFkZENsYXNzKCdwZi1lbWJlZC1pZnJhbWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBFbWJlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWZyYW1lID0galF1ZXJ5KCc8aWZyYW1lLz4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IGN1cmVudEVtYmVkVXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdkaXNwbGF5Om5vbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dmdWxsc2NyZWVuOiAnJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5sb2FkKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykuZmFkZUluKDUwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW1iZWQuYWRkQ2xhc3MoJ3BmLWVtYmVkLWxvYWRlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVtYmVkLmFkZENsYXNzKCdwZi1lbWJlZC1lcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbWJlZC5lbXB0eSgpLmFwcGVuZChpZnJhbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgZW1iZWQgdHlwZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW1iZWQuYWRkQ2xhc3MoJ3BmLWVtYmVkLXZpZGVvJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgRW1iZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZpZGVvT3B0aW9ucyA9IHRoaXMucGFyc2VPcHRpb25zKGN1cmVudEVtYmVkVXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZpZGVvID0gJzx2aWRlbyAnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih2aWRlb09wdGlvbnMucG9zdGVyKSB2aWRlbyArPSAncG9zdGVyPVwiJyt2aWRlb09wdGlvbnMucG9zdGVyKydcIiAnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlbyArPSAnY29udHJvbHM9XCJjb250cm9sc1wiIHByZWxvYWQ9XCJ5ZXNcIj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih2aWRlb09wdGlvbnMubXA0KSB2aWRlbyArPSAnPHNvdXJjZSB0eXBlPVwidmlkZW8vbXA0XCIgc3JjPVwiJyt2aWRlb09wdGlvbnMubXA0KydcIi8+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodmlkZW9PcHRpb25zLndlYm0pIHZpZGVvICs9ICc8c291cmNlIHR5cGU9XCJ2aWRlby93ZWJtXCIgc3JjPVwiJyt2aWRlb09wdGlvbnMud2VibSsnXCIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZpZGVvT3B0aW9ucy5vZ3YpIHZpZGVvICs9ICc8c291cmNlIHR5cGU9XCJ2aWRlby9vZ2dcIiBzcmM9XCInK3ZpZGVvT3B0aW9ucy5vZ3YrJ1wiLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlbyArPSAnWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIHZpZGVvIHRhZy48L3ZpZGVvPic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW1iZWQuZW1wdHkoKS5hcHBlbmQoIGpRdWVyeSh2aWRlbykgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBwYXJzZU9wdGlvbnM6IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgdmFyIGRlbGltaXRlckluZGV4O1xyXG4gICAgICAgIHZhciBvcHRpb247XHJcbiAgICAgICAgdmFyIHByb3A7XHJcbiAgICAgICAgdmFyIHZhbDtcclxuICAgICAgICB2YXIgYXJyO1xyXG4gICAgICAgIHZhciBsZW47XHJcbiAgICAgICAgdmFyIGk7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSBzcGFjZXMgYXJvdW5kIGRlbGltaXRlcnMgYW5kIHNwbGl0XHJcbiAgICAgICAgYXJyID0gc3RyLnJlcGxhY2UoL1xccyo6XFxzKi9nLCAnOicpLnJlcGxhY2UoL1xccyosXFxzKi9nLCAnLCcpLnNwbGl0KCcsJyk7XHJcblxyXG4gICAgICAgIC8vIFBhcnNlIGEgc3RyaW5nXHJcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbiA9IGFycltpXTtcclxuXHJcbiAgICAgICAgICAgIC8vIElnbm9yZSB1cmxzIGFuZCBhIHN0cmluZyB3aXRob3V0IGNvbG9uIGRlbGltaXRlcnNcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlYXJjaCgvXihodHRwfGh0dHBzfGZ0cCk6XFwvXFwvLykgIT09IC0xIHx8XHJcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VhcmNoKCc6JykgPT09IC0xXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRlbGltaXRlckluZGV4ID0gb3B0aW9uLmluZGV4T2YoJzonKTtcclxuICAgICAgICAgICAgcHJvcCA9IG9wdGlvbi5zdWJzdHJpbmcoMCwgZGVsaW1pdGVySW5kZXgpO1xyXG4gICAgICAgICAgICB2YWwgPSBvcHRpb24uc3Vic3RyaW5nKGRlbGltaXRlckluZGV4ICsgMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB2YWwgaXMgYW4gZW1wdHkgc3RyaW5nLCBtYWtlIGl0IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICBpZiAoIXZhbCkge1xyXG4gICAgICAgICAgICAgICAgdmFsID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGEgc3RyaW5nIHZhbHVlIGlmIGl0IGlzIGxpa2UgYSBib29sZWFuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgdmFsID0gdmFsID09PSAndHJ1ZScgfHwgKHZhbCA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogdmFsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ29udmVydCBhIHN0cmluZyB2YWx1ZSBpZiBpdCBpcyBsaWtlIGEgbnVtYmVyXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgdmFsID0gIWlzTmFOKHZhbCkgPyArdmFsIDogdmFsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvYmpbcHJvcF0gPSB2YWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBub3RoaW5nIGlzIHBhcnNlZFxyXG4gICAgICAgIGlmIChwcm9wID09IG51bGwgJiYgdmFsID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbn07XHJcbiIsIihmdW5jdGlvbiAoJCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgJChmdW5jdGlvbiAoKSB7IC8vIHN0YXJ0OiBkb2N1bWVudCByZWFkeVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAgU2V0IEdsb2JhbCBWYXJzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2VydHkuaW5pdEdsb2JhbFZhcnMoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogIE5hdmlnYXRpb25cclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAoY2VydHkudmFycy5ib2R5Lmhhc0NsYXNzKCdjcnQtbmF2LW9uJykpIHsgLy8gQ2hlY2sgSWYgTmF2IEV4aXN0c1xyXG4gICAgICAgICAgICAvLyBTY3JvbGxlZCBOYXZpZ2F0aW9uICggbGFyZ2Ugc2NyZWVucyApXHJcbiAgICAgICAgICAgIGlmICggTW9kZXJuaXpyLm1xKCcobWluLXdpZHRoOiAnK2NlcnR5LnZhcnMuc2NyZWVuTWQrJyknKSAmJiBjZXJ0eS5uYXYuaGVpZ2h0ICE9PSAnYXV0bycgKSB7XHJcbiAgICAgICAgICAgICAgICBjZXJ0eS5uYXYuaW5pdFNjcm9sbCggJCgnI2NydE5hdlNjcm9sbCcpICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFN0aWNreSBOYXZpZ2F0aW9uXHJcbiAgICAgICAgICAgIGNlcnR5Lm5hdi5tYWtlU3RpY2t5KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBOYXZpZ2F0aW9uIFRvb2x0aXBzXHJcbiAgICAgICAgICAgIGlmKGNlcnR5Lm5hdi50b29sdGlwLmFjdGl2ZSl7XHJcbiAgICAgICAgICAgICAgICAkKCcjY3J0TmF2IGEnKS5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VydHkubmF2LnRvb2x0aXAuc2hvdyggJCh0aGlzKSApO1xyXG4gICAgICAgICAgICAgICAgfSxmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VydHkubmF2LnRvb2x0aXAuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBBbmNob3IgTmF2aWdhdGlvblxyXG4gICAgICAgICAgICAkKCcjY3J0TmF2Jykub25lUGFnZU5hdih7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VIYXNoOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsVGhyZXNob2xkOiAwLjUsXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXI6ICc6bm90KC5leHRlcm5hbCknXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogIEZpeGVkIFNpZGUgQm94XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2VydHkuc2lkZUJveC5tYWtlU3RpY2t5KCk7XHJcblxyXG4gICAgICAgIC8qKiBQb3J0Zm9saW8gKi9cclxuICAgICAgICB2YXIgcGZfZ3JpZCA9ICQoJy5wZi1ncmlkJyk7XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIGlmIGdyaWQgZXhpc3RzIHRoYW4gZG8gYWN0aW9uXHJcbiAgICAgICAgaWYgKHBmX2dyaWQubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgLy8gaW5pdCBwb3J0Zm9saW8gZ3JpZFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBmX2dyaWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNlcnR5LnBvcnRmb2xpby5pbml0R3JpZCggJChwZl9ncmlkW2ldKSApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBvcGVuIHBvcnRmb2xpbyBwb3B1cFxyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnBmLXByb2plY3QnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNlcnR5LnBvcnRmb2xpby5vcGVuUG9wdXAoICQoaWQpICk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucGYtcmVsLWhyZWYnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgY29udGFpbiBhbmNob3IsIG9wZW4gcHJvamVjdCBwb3B1cFxyXG4gICAgICAgICAgICAgICAgaWYoIGhyZWYuaW5kZXhPZihcIiNcIikgIT0gLTEgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2UgYWxyZWFkeSBvcGVuZWQgcG9wdXBcclxuICAgICAgICAgICAgICAgICAgICBjZXJ0eS5wb3J0Zm9saW8uY2xvc2VQb3B1cCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBvcGVuIG5ldyBvbmUgYWZ0ZXIgdGltZW91dFxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2VydHkucG9ydGZvbGlvLm9wZW5Qb3B1cCggJChocmVmKSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblx0XHRcdFxyXG5cdFx0XHQkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3BmLXBvcHVwLWNsb3NlJywgZnVuY3Rpb24oKSB7XHRcdFx0XHRcclxuICAgICAgICAgICAgICAgIGNlcnR5LnBvcnRmb2xpby5jbG9zZVBvcHVwKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gY2xvc2UgcG9ydGZvbGlvIHBvcHVwXHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCd0b3VjaHN0YXJ0IGNsaWNrJywgJy5jcnQtcGYtcG9wdXAtb3BlbmVkICNwZi1wb3B1cC13cmFwJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSAkKCcjcGYtcG9wdXAtY29udGVudCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB0YXJnZXQgb2YgdGhlIGNsaWNrIGlzbid0IHRoZSBjb250YWluZXIuLi4gbm9yIGEgZGVzY2VuZGFudCBvZiB0aGUgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lci5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2VydHkucG9ydGZvbGlvLmNsb3NlUG9wdXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiogQ29tcG9uZW50cyAqL1xyXG4gICAgICAgIC8vIGluaXQgc2xpZGVyc1xyXG4gICAgICAgIGNlcnR5LnNsaWRlciggJChcIi5jci1zbGlkZXJcIikgKTtcclxuXHJcbiAgICAgICAgLy8gaW5pdCBjYXJvdXNlbFxyXG4gICAgICAgIGNlcnR5LmNhcm91c2VsKCAkKFwiLmNyLWNhcm91c2VsXCIpICk7XHJcblx0XHRcclxuXHRcdC8qKiBXaW5kb3cgU2Nyb2xsIFRvcCBCdXR0b24gKi9cclxuICAgICAgICB2YXIgJGJ0blNjcm9sbFRvcCA9ICQoJyNjcnRCdG5VcCcpO1xyXG5cdFx0XHJcblx0XHRpZigkYnRuU2Nyb2xsVG9wLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgJGJ0blNjcm9sbFRvcC5zaG93KDApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGJ0blNjcm9sbFRvcC5oaWRlKDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cdFx0XHQkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IDEwMCkge1xyXG5cdFx0XHRcdFx0JGJ0blNjcm9sbFRvcC5zaG93KDApO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkYnRuU2Nyb2xsVG9wLmhpZGUoMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRidG5TY3JvbGxUb3Aub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCA4MDApO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcbiAgICB9KTsgLy8gZW5kOiBkb2N1bWVudCByZWFkeVxyXG5cclxuXHJcblxyXG4gICAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7IC8vIHN0YXJ0OiB3aW5kb3cgcmVzaXplXHJcblxyXG4gICAgICAgIC8vIFJlIEluaXQgVmFyc1xyXG4gICAgICAgIGNlcnR5LnZhcnMud2luZG93VyA9ICQod2luZG93KS53aWR0aCgpO1xyXG4gICAgICAgIGNlcnR5LnZhcnMud2luZG93SCA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuICAgICAgICBjZXJ0eS52YXJzLndpbmRvd1Njcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHJcbiAgICAgICAgLy8gU3RpY2t5IE5hdmlnYXRpb25cclxuICAgICAgICBjZXJ0eS5uYXYubWFrZVN0aWNreSgpO1xyXG5cclxuICAgICAgICAvLyBTdGlja3kgU2lkZSBCb3hcclxuICAgICAgICBjZXJ0eS5zaWRlQm94Lm1ha2VTdGlja3koKTtcclxuXHJcbiAgICB9KTsgLy8gZW5kOiB3aW5kb3cgcmVzaXplXHJcblxyXG5cclxuXHJcbiAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHsgLy8gc3RhcnQ6IHdpbmRvdyBzY3JvbGxcclxuXHJcbiAgICAgICAgLy8gUmUgSW5pdCBWYXJzXHJcbiAgICAgICAgY2VydHkudmFycy53aW5kb3dTY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcblxyXG4gICAgICAgIC8vIFN0aWNreSBOYXZpZ2F0aW9uXHJcbiAgICAgICAgY2VydHkubmF2Lm1ha2VTdGlja3koKTtcclxuXHJcbiAgICAgICAgLy8gU3RpY2t5IFNpZGUgQm94XHJcbiAgICAgICAgY2VydHkuc2lkZUJveC5tYWtlU3RpY2t5KCk7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSBUb29sdGlwXHJcbiAgICAgICAgaWYoY2VydHkubmF2LnRvb2x0aXAuZWwubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIGNlcnR5Lm5hdi50b29sdGlwLmVsLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTsgLy8gZW5kOiB3aW5kb3cgc2Nyb2xsXHJcblxyXG5cclxuXHJcbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7IC8vIHN0YXJ0OiB3aW5kb3cgbG9hZFxyXG5cclxuICAgIH0pOyAvLyBlbmQ6IHdpbmRvdyBsb2FkXHJcblxyXG59KShqUXVlcnkpOyIsIi8vIFRoZW1lIFZhcmlhYmxlc1xyXG52YXIgYWNlID0ge1xyXG4gICAgaHRtbDogJycsXHJcbiAgICBib2R5OiAnJyxcclxuICAgIG1vYmlsZTogJycsXHJcblxyXG4gICAgc2lkZWJhcjoge1xyXG4gICAgICAgIG9iajogJycsXHJcbiAgICAgICAgYnRuOiAnJ1xyXG4gICAgfSxcclxuXHJcbiAgICBuYXY6IHtcclxuICAgICAgICBvYmo6ICcnLFxyXG4gICAgICAgIHRvb2x0aXA6IGpRdWVyeSgnPGRpdiBjbGFzcz1cImNydC10b29sdGlwXCI+PC9kaXY+JylcclxuICAgIH0sXHJcblxyXG4gICAgb3ZlcmxheToge1xyXG4gICAgICAgIG9iajogalF1ZXJ5KCc8ZGl2IGlkPVwiY3J0T3ZlcmxheVwiPjwvZGl2PicpXHJcbiAgICB9LFxyXG5cclxuICAgIHByb2dyZXNzOiB7XHJcbiAgICAgICAgbGluZXM6ICcnLFxyXG4gICAgICAgIGNoYXJ0czogJycsXHJcbiAgICAgICAgYnVsbGV0czogJydcclxuICAgIH1cclxufTtcclxuXHJcbihmdW5jdGlvbiAoJCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0JChmdW5jdGlvbiAoKSB7IC8vIHN0YXJ0OiBkb2N1bWVudCByZWFkeVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2VydHkgSW5pdCBNYWluIFZhcnNcclxuXHRcdCAqL1xyXG5cdFx0YWNlLmh0bWwgPSAkKCdodG1sJyk7XHJcblx0XHRhY2UuYm9keSA9ICQoJ2JvZHknKTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENlcnR5IERldGVjdCBEZXZpY2UgVHlwZVxyXG5cdFx0ICovXHJcblx0XHRhY2VfZGV0ZWN0X2RldmljZV90eXBlKCk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDZXJ0eSBNb2JpbGUgTmF2aWdhdGlvblxyXG5cdFx0ICovXHJcblx0XHQkKCcjY3J0TWFpbk5hdlNtIC5tZW51LWl0ZW0taGFzLWNoaWxkcmVuID4gYScpLm9uKCdjbGljayB0b3VjaHN0YXJ0JywgZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYoICQodGhpcykuaGFzQ2xhc3MoJ2hvdmVyJykgKXtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdob3ZlcicpO1xyXG5cdFx0XHRcdCQodGhpcykubmV4dCgpLnNsaWRlRG93big1MDApO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDZXJ0eSBTaWRlYmFyXHJcblx0XHQgKi9cclxuXHRcdGFjZS5zaWRlYmFyLm9iaiA9ICQoJyNjcnRTaWRlYmFyJyk7XHJcblx0XHRhY2Uuc2lkZWJhci5idG4gPSAkKCcjY3J0U2lkZWJhckJ0bicpO1xyXG5cclxuXHRcdC8vIE9wZW4gU2lkZWJhclxyXG5cdFx0YWNlLnNpZGViYXIuYnRuLm9uKCd0b3VjaHN0YXJ0IGNsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRhY2Vfb3Blbl9zaWRlYmFyKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBDbG9zZSBTaWRlYmFyIFRocm91Z2ggT3ZlcmxheVxyXG5cdFx0JChkb2N1bWVudCkub24oJ3RvdWNoc3RhcnQgY2xpY2snLCAnLmNydC1zaWRlYmFyLW9wZW5lZCAjY3J0T3ZlcmxheScsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBjb250YWluZXIgPSBhY2Uuc2lkZWJhci5vYmo7XHJcblx0XHRcdC8vIGlmIHRoZSB0YXJnZXQgb2YgdGhlIGNsaWNrIGlzbid0IHRoZSBjb250YWluZXIuLi4gbm9yIGEgZGVzY2VuZGFudCBvZiB0aGUgY29udGFpbmVyXHJcblx0XHRcdGlmICghY29udGFpbmVyLmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRhY2VfY2xvc2Vfc2lkZWJhcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBDbG9zZSBTaWRlYmFyIFVzaW5nIEJ1dHRvblxyXG5cdFx0JCgnI2NydFNpZGViYXJDbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0YWNlX2Nsb3NlX3NpZGViYXIoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFNpZGViYXIgQ3VzdG9tIFNjcm9sbFxyXG5cdFx0JChcIiNjcnRTaWRlYmFySW5uZXJcIikubUN1c3RvbVNjcm9sbGJhcih7XHJcblx0XHRcdGF4aXM6IFwieVwiLFxyXG5cdFx0XHR0aGVtZTogXCJtaW5pbWFsLWRhcmtcIixcclxuXHRcdFx0YXV0b0hpZGVTY3JvbGxiYXI6IHRydWUsXHJcblx0XHRcdHNjcm9sbEJ1dHRvbnM6IHsgZW5hYmxlOiB0cnVlIH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2VydHkgQ2lyY2xlICYgTGluZSBDaGFydHNcclxuXHRcdCAqL1xyXG5cdFx0aWYoIWNlcnR5LnByb2dyZXNzLmFuaW1hdGlvbiB8fCBhY2UubW9iaWxlKSB7XHJcblx0XHRcdC8vIENpcmNsZSBDaGFydFxyXG5cdFx0XHRhY2UucHJvZ3Jlc3MuY2hhcnRzID0gJCgnLnByb2dyZXNzLWNoYXJ0IC5wcm9ncmVzcy1iYXInKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhY2UucHJvZ3Jlc3MuY2hhcnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGNoYXJ0ID0gJChhY2UucHJvZ3Jlc3MuY2hhcnRzW2ldKTtcclxuXHJcblx0XHRcdFx0YWNlX3Byb2dyZXNzX2NoYXJ0KGNoYXJ0WzBdLCBjaGFydC5kYXRhKCd0ZXh0JyksIGNoYXJ0LmRhdGEoJ3ZhbHVlJyksIDEpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBMaW5lIENoYXJ0XHJcblx0XHRcdGFjZS5wcm9ncmVzcy5saW5lcyA9ICQoJy5wcm9ncmVzcy1saW5lIC5wcm9ncmVzcy1iYXInKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhY2UucHJvZ3Jlc3MubGluZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgbGluZSA9ICQoYWNlLnByb2dyZXNzLmxpbmVzW2ldKTtcclxuXHJcblx0XHRcdFx0YWNlX3Byb2dyZXNzX2xpbmUobGluZVswXSwgbGluZS5kYXRhKCd0ZXh0JyksIGxpbmUuZGF0YSgndmFsdWUnKSwgMSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENlcnR5IEFuaW1hdGUgRWxlbWVudHNcclxuXHRcdCAqL1xyXG5cdFx0aWYoY2VydHkucHJvZ3Jlc3MuYW5pbWF0aW9uICYmICFhY2UubW9iaWxlKSB7XHJcblx0XHRcdGFjZV9hcHBlYXJfZWxlbXMoJCgnLmNydC1hbmltYXRlJyksIDApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ29kZSBIaWdobGlnaHRcclxuXHRcdCAqL1xyXG5cdFx0JCgncHJlJykuZWFjaChmdW5jdGlvbiAoaSwgYmxvY2spIHtcclxuXHRcdFx0aGxqcy5oaWdobGlnaHRCbG9jayhibG9jayk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENlcnR5IEFsZXJ0c1xyXG5cdFx0ICovXHJcblx0XHQkKCcuYWxlcnQgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgYWxlcnQgPSAkKHRoaXMpLnBhcmVudCgpO1xyXG5cclxuXHRcdFx0YWxlcnQuZmFkZU91dCg1MDAsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRhbGVydC5yZW1vdmUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENlcnR5IFNsaWRlclxyXG5cdFx0ICovXHJcblx0XHQkKCcuc2xpZGVyJykuc2xpY2soe1xyXG5cdFx0XHRkb3RzOiB0cnVlXHJcblx0XHR9KTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENlcnR5IEdvb2dsZSBNYXAgSW5pdGlhbGlzYXRpb25cclxuXHRcdCAqL1xyXG5cdFx0aWYgKCQoJyNtYXAnKS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGluaXRpYWxpc2VHb29nbGVNYXAoIGNlcnR5X3ZhcnNfZnJvbV9XUC5tYXBTdHlsZXMgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqICBUYWJzXHJcblx0XHQgKi9cclxuXHRcdHZhciB0YWJBY3RpdmUgPSAkKCcudGFicy1tZW51PmxpLmFjdGl2ZScpO1xyXG5cdFx0aWYoIHRhYkFjdGl2ZS5sZW5ndGggPiAwICl7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGFiQWN0aXZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIHRhYl9pZCA9ICQodGFiQWN0aXZlW2ldKS5jaGlsZHJlbigpLmF0dHIoJ2hyZWYnKTtcclxuXHJcblx0XHRcdFx0JCh0YWJfaWQpLmFkZENsYXNzKCdhY3RpdmUnKS5zaG93KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQkKCcudGFicy1tZW51IGEnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0dmFyIHRhYiA9ICQodGhpcyk7XHJcblx0XHRcdHZhciB0YWJfaWQgPSB0YWIuYXR0cignaHJlZicpO1xyXG5cdFx0XHR2YXIgdGFiX3dyYXAgPSB0YWIuY2xvc2VzdCgnLnRhYnMnKTtcclxuXHRcdFx0dmFyIHRhYl9jb250ZW50ID0gdGFiX3dyYXAuZmluZCgnLnRhYi1jb250ZW50Jyk7XHJcblxyXG5cdFx0XHR0YWIucGFyZW50KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblx0XHRcdHRhYi5wYXJlbnQoKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0dGFiX2NvbnRlbnQubm90KHRhYl9pZCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmhpZGUoKTtcclxuXHRcdFx0JCh0YWJfaWQpLmFkZENsYXNzKCdhY3RpdmUnKS5mYWRlSW4oNTAwKTtcclxuXHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVG9nZ2xlQm94XHJcblx0XHQgKi9cclxuXHRcdHZhciB0b2dnbGVib3hBY3RpdmUgPSAkKCcudG9nZ2xlYm94PmxpLmFjdGl2ZScpO1xyXG5cdFx0aWYoIHRvZ2dsZWJveEFjdGl2ZS5sZW5ndGggPiAwICl7XHJcblx0XHRcdHRvZ2dsZWJveEFjdGl2ZS5maW5kKCcudG9nZ2xlYm94LWNvbnRlbnQnKS5zaG93KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0JCgnLnRvZ2dsZWJveC1oZWFkZXInKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgdG9nZ2xlX2hlYWQgPSAkKHRoaXMpO1xyXG5cclxuXHRcdFx0dG9nZ2xlX2hlYWQubmV4dCgnLnRvZ2dsZWJveC1jb250ZW50Jykuc2xpZGVUb2dnbGUoMzAwKTtcclxuXHRcdFx0dG9nZ2xlX2hlYWQucGFyZW50KCkudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0fSk7XHJcblxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQWNjb3JkZW9uXHJcblx0XHQgKi9cclxuXHRcdHZhciBhY2NvcmRlb25BY3RpdmUgPSAkKCcuYWNjb3JkaW9uPmxpLmFjdGl2ZScpO1xyXG5cdFx0aWYoIGFjY29yZGVvbkFjdGl2ZS5sZW5ndGggPiAwICl7XHJcblx0XHRcdGFjY29yZGVvbkFjdGl2ZS5maW5kKCcuYWNjb3JkaW9uLWNvbnRlbnQnKS5zaG93KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0JCgnLmFjY29yZGlvbi1oZWFkZXInKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgYWNjX2hlYWQgPSAkKHRoaXMpO1xyXG5cdFx0XHR2YXIgYWNjX3NlY3Rpb24gPSBhY2NfaGVhZC5wYXJlbnQoKTtcclxuXHRcdFx0dmFyIGFjY19jb250ZW50ID0gYWNjX2hlYWQubmV4dCgpO1xyXG5cdFx0XHR2YXIgYWNjX2FsbF9jb250ZW50cyA9IGFjY19oZWFkLmNsb3Nlc3QoJy5hY2NvcmRpb24nKS5maW5kKCcuYWNjb3JkaW9uLWNvbnRlbnQnKTtcclxuXHJcblx0XHRcdGlmKGFjY19zZWN0aW9uLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcblx0XHRcdFx0YWNjX3NlY3Rpb24ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdGFjY19jb250ZW50LnNsaWRlVXAoKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0YWNjX3NlY3Rpb24uc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0YWNjX3NlY3Rpb24uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdGFjY19hbGxfY29udGVudHMuc2xpZGVVcCgzMDApO1xyXG5cdFx0XHRcdGFjY19jb250ZW50LnNsaWRlRG93bigzMDApO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbW1lbnRzIE9wZW4vQ2xvc2VcclxuXHRcdCAqL1xyXG5cdFx0JCgnLmNvbW1lbnQtcmVwbHlzLWxpbmsnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG5cdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5jb21tZW50JykudG9nZ2xlQ2xhc3MoJ3Nob3ctcmVwbGllcycpO1xyXG5cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQb3J0Zm9saW8gUG9wdXBcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHBmX3BvcHVwID0ge307XHJcblx0XHRwZl9wb3B1cC53cmFwcGVyID0gbnVsbDtcclxuXHRcdHBmX3BvcHVwLmNvbnRlbnQgPSBudWxsO1xyXG5cdFx0cGZfcG9wdXAuc2xpZGVyID0gbnVsbDtcclxuXHJcblx0XHRwZl9wb3B1cC5vcGVuID0gZnVuY3Rpb24gKCBlbCApe1xyXG5cdFx0XHQvLyBBcHBlbmQgUG9ydGZvbGlvIFBvcHVwXHJcblx0XHRcdHRoaXMud3JhcHBlciA9ICQoJzxkaXYgaWQ9XCJwZi1wb3B1cC13cmFwXCIgY2xhc3M9XCJwZi1wb3B1cC13cmFwXCI+JytcclxuXHRcdFx0JzxkaXYgY2xhc3M9XCJwZi1wb3B1cC1pbm5lclwiPicrXHJcblx0XHRcdCc8ZGl2IGNsYXNzPVwicGYtcG9wdXAtbWlkZGxlXCI+JytcclxuXHRcdFx0JzxkaXYgY2xhc3M9XCJwZi1wb3B1cC1jb250YWluZXJcIj4nK1xyXG5cdFx0XHQnPGJ1dHRvbiBpZD1cInBmLXBvcHVwLWNsb3NlXCI+PGkgY2xhc3M9XCJyc2ljb24gcnNpY29uLWNsb3NlXCI+PC9pPjwvYnV0dG9uPicrXHJcblx0XHRcdCc8ZGl2IGlkPVwicGYtcG9wdXAtY29udGVudFwiIGNsYXNzPVwicGYtcG9wdXAtY29udGVudFwiPjwvZGl2PicrXHJcblx0XHRcdCc8L2Rpdj4nK1xyXG5cdFx0XHQnPC9kaXY+JytcclxuXHRcdFx0JzwvZGl2PicpO1xyXG5cclxuXHRcdFx0YWNlLmJvZHkuYXBwZW5kKHRoaXMud3JhcHBlcik7XHJcblxyXG5cdFx0XHQvLyBBZGQgUG9ydGZvbGlvIFBvcHVwIEl0ZW1zXHJcblx0XHRcdHRoaXMuY29udGVudCA9ICQoJyNwZi1wb3B1cC1jb250ZW50Jyk7XHJcblx0XHRcdHRoaXMuY29udGVudC5hcHBlbmQoIGVsLmNsb25lKCkgKTtcclxuXHJcblx0XHRcdC8vIE1ha2UgUG9ydGZvbGlvIFBvcHVwIFZpc2libGVcclxuXHRcdFx0cGZfcG9wdXAud3JhcHBlci5hZGRDbGFzcygnb3BlbmVkJyk7XHJcblx0XHRcdGFjZV9sb2NrX3Njcm9sbCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwZl9wb3B1cC5jbG9zZSA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHRoaXMud3JhcHBlci5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XHJcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRwZl9wb3B1cC53cmFwcGVyLnJlbW92ZSgpO1xyXG5cdFx0XHRcdGFjZV91bmxvY2tfc2Nyb2xsKCk7XHJcblx0XHRcdH0sIDUwMCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIE9wZW4gUG9ydGZvbGlvIFBvcHVwXHJcblx0XHQkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnBmLWJ0bi12aWV3JywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBpZCA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG5cdFx0XHRwZl9wb3B1cC5vcGVuKCAkKGlkKSApO1xyXG5cclxuXHRcdFx0YWNlLmh0bWwuYWRkQ2xhc3MoJ2NydC1wb3J0Zm9saW8tb3BlbmVkJyk7XHJcblxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBDbG9zZSBQb3J0Zm9saW8gUG9wdXBcclxuXHRcdCQoZG9jdW1lbnQpLm9uKCd0b3VjaHN0YXJ0IGNsaWNrJywgJy5jcnQtcG9ydGZvbGlvLW9wZW5lZCAjcGYtcG9wdXAtd3JhcCcsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBjb250YWluZXIgPSAkKCcjcGYtcG9wdXAtY29udGVudCcpO1xyXG5cclxuXHRcdFx0Ly8gaWYgdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgaXNuJ3QgdGhlIGNvbnRhaW5lci4uLiBub3IgYSBkZXNjZW5kYW50IG9mIHRoZSBjb250YWluZXJcclxuXHRcdFx0aWYgKCFjb250YWluZXIuaXMoZS50YXJnZXQpICYmIGNvbnRhaW5lci5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdHBmX3BvcHVwLmNsb3NlKCk7XHJcblx0XHRcdFx0YWNlLmh0bWwucmVtb3ZlQ2xhc3MoJ2NydC1wb3J0Zm9saW8tb3BlbmVkJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2hvdyBDb2RlIDxwcmU+XHJcblx0XHQgKi9cclxuXHRcdCQoJy50b2dnbGUtbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciBpZCA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG5cclxuXHRcdFx0aWYoJCh0aGlzKS5oYXNDbGFzcygnb3BlbmVkJykpe1xyXG5cdFx0XHRcdCQoaWQpLnNsaWRlVXAoNTAwKTtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKGlkKS5zbGlkZURvd24oNTAwKTtcclxuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdvcGVuZWQnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTaGFyZSBCdXR0b25cclxuXHRcdCAqL1xyXG5cdFx0JCgnLnNoYXJlLWJ0bicpLm9uKCBcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24oKXtcclxuXHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnaG92ZXJlZCcpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0JCgnLnNoYXJlLWJveCcpLm9uKCBcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24oKXtcclxuXHRcdFx0dmFyIHNoYXJlX2JveCA9ICQodGhpcyk7XHJcblxyXG5cdFx0XHRpZihzaGFyZV9ib3guaGFzQ2xhc3MoJ2hvdmVyZWQnKSl7XHJcblx0XHRcdFx0c2hhcmVfYm94LmFkZENsYXNzKCdjbG9zaW5nJyk7XHJcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHNoYXJlX2JveC5yZW1vdmVDbGFzcygnaG92ZXJlZCcpO1xyXG5cdFx0XHRcdFx0c2hhcmVfYm94LnJlbW92ZUNsYXNzKCdjbG9zaW5nJyk7XHJcblx0XHRcdFx0fSwzMDApO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0fSk7IC8vIGVuZDogZG9jdW1lbnQgcmVhZHlcclxufSkoalF1ZXJ5KTsiXX0=
